<html lang="en">
<head>
<title>Liblouisxml User's and Programmer's Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Liblouisxml User's and Programmer's Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual is for liblouisxml (version 2.4.0,
11 May 2011), an xml to Braille Translation Library.

This file may contain code borrowed from the Linux screenreader
BRLTTY, Copyright (C) 1999-2009 by the
BRLTTY Team.

Copyright (C) 2004-2009 ViewPlus Technologies, Inc.
`www.viewplus.com' and Copyright (C) 2006,2009
Abilitiessoft, Inc. `www.abilitiessoft.com'.

     This file is free software; you can redistribute it and/or modify
     it under the terms of the GNU Lesser (or library) General Public
     License (LGPL) as published by the Free Software Foundation;
     either version 3, or (at your option) any later version.

     This file is distributed in the hope that it will be useful, but
     WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
     Lesser (or Library) General Public License LGPL for more details.

     You should have received a copy of the GNU Lesser (or Library)
     General Public License (LGPL) along with this program; see the
     file COPYING.  If not, write to the Free Software Foundation, 51
     Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<h1 class="settitle">Liblouisxml User's and Programmer's Manual</h1>
<div class="contents">
<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Top" href="#Top">Liblouisxml User's and Programmer's Manual</a>
<li><a name="toc_Introduction" href="#Introduction">1 Introduction</a>
<li><a name="toc_Transcribing-Documents" href="#Transcribing-Documents">2 Transcribing Documents</a>
<ul>
<li><a href="#Transcribing-XML-files-with-xml2brl">2.1 Transcribing XML files with xml2brl</a>
<li><a href="#Transcribing-Text-Documents">2.2 Transcribing Text Documents</a>
<li><a href="#Transcribing-Poorly-Formatted-Documents">2.3 Transcribing Poorly Formatted Documents</a>
<li><a href="#Transcribing-html-Documents">2.4 Transcribing html Documents</a>
<li><a href="#Transcribing-Microsoft-Word-files-with-msword2brl">2.5 Transcribing Microsoft Word files with msword2brl</a>
<li><a href="#Transcribing-RTF-files-with-rtf2brl">2.6 Transcribing RTF files with rtf2brl</a>
<li><a href="#Transcribing-PDF-files-with-pdf2brl">2.7 Transcribing PDF files with pdf2brl</a>
</li></ul>
<li><a name="toc_Customization-Configuring-liblouisxml" href="#Customization-Configuring-liblouisxml">3 Customization: Configuring liblouisxml</a>
<ul>
<li><a href="#outputFormat">3.1 outputFormat</a>
<li><a href="#translation">3.2 translation</a>
<li><a href="#xml">3.3 xml</a>
<li><a href="#style">3.4 style</a>
<ul>
<li><a href="#style">3.4.1 style document</a>
<li><a href="#style">3.4.2 style contentsheader</a>
<li><a href="#style">3.4.3 style contents1</a>
<li><a href="#style">3.4.4 style contents2</a>
<li><a href="#style">3.4.5 style contents3</a>
<li><a href="#style">3.4.6 style contents4</a>
<li><a href="#style">3.4.7 style heading1</a>
<li><a href="#style">3.4.8 style heading2</a>
<li><a href="#style">3.4.9 style heading3</a>
<li><a href="#style">3.4.10 style heading4</a>
<li><a href="#style">3.4.11 style para</a>
</li></ul>
</li></ul>
<li><a name="toc_Connecting-with-the-xml-Document" href="#Connecting-with-the-xml-Document">4 Connecting with the xml Document - Semantic-Action Files</a>
<ul>
<li><a href="#Semantic-Actions-Overview">4.1 Overview</a>
<li><a href="#Semantic-Actions-in-detail">4.2 Semantic Actions in detail</a>
<li><a href="#Pseudo_002dactions">4.3 Pseudo-actions</a>
<ul>
<li><a href="#Pseudo_002dactions">4.3.1 include</a>
<li><a href="#Pseudo_002dactions">4.3.2 newentries</a>
<li><a href="#Pseudo_002dactions">4.3.3 namespaces</a>
</li></ul>
<li><a href="#Using-XPath-Expressions">4.4 Using XPath Expressions</a>
</li></ul>
<li><a name="toc_Special-Features" href="#Special-Features">5 Special Features</a>
<ul>
<li><a href="#Table-of-contents">5.1 Table of contents</a>
<li><a href="#Back_002dtranslation">5.2 Back-translation</a>
<li><a href="#Reformatting">5.3 Reformatting</a>
<li><a href="#Interlining">5.4 Interlining</a>
<li><a href="#Browser_002dFriendly-Output">5.5 Browser-Friendly Output</a>
<li><a href="#CDATA-Sections">5.6 <code>CDATA</code> Sections</a>
</li></ul>
<li><a name="toc_Special-Formats" href="#Special-Formats">6 Special Formats</a>
<ul>
<li><a href="#Tables">6.1 Tables</a>
<li><a href="#Reserving-Space-for-Graphics">6.2 Reserving Space for Graphics</a>
<li><a href="#Displayed-Text">6.3 Displayed Text</a>
<li><a href="#Displayed-Mathematics">6.4 Displayed Mathematics</a>
<li><a href="#Spatial-Layouts-in-Mathematics">6.5 Spatial Layouts in Mathematics</a>
<li><a href="#Arithmetic-Examples">6.6 Arithmetic Examples</a>
<li><a href="#Poetry">6.7 Poetry</a>
<li><a href="#Dividing-a-Book-Into-Volumes">6.8 Dividing a Book Into Volumes</a>
</li></ul>
<li><a name="toc_Implementing-Braille-Mathematics-Codes" href="#Implementing-Braille-Mathematics-Codes">7 Implementing Braille Mathematics Codes</a>
<li><a name="toc_Programming-with-liblouisxml" href="#Programming-with-liblouisxml">8 Programming with liblouisxml</a>
<ul>
<li><a href="#License">8.1 License</a>
<li><a href="#Overview">8.2 Overview</a>
<li><a href="#Files-and-Paths">8.3 Files and Paths</a>
<li><a href="#lbx_005fversion">8.4 lbx_version</a>
<li><a href="#lbx_005finitialize">8.5 lbx_initialize</a>
<li><a href="#lbx_005ftranslateString">8.6 lbx_translateString</a>
<li><a href="#lbx_005ftranslateFile">8.7 lbx_translateFile</a>
<li><a href="#lbx_005ftranslateTextFile">8.8 lbx_translateTextFile</a>
<li><a href="#lbx_005fbackTranslateFile">8.9 lbx_backTranslateFile</a>
<li><a href="#lbx_005ffree">8.10 lbx_free</a>
</li></ul>
<li><a name="toc_Example-files" href="#Example-files">Appendix A Example files</a>
<ul>
<li><a href="#canonical_002ecfg">A.1 <samp><span class="file">canonical.cfg</span></samp></a>
<li><a href="#default_002ecfg">A.2 <samp><span class="file">default.cfg</span></samp></a>
<li><a href="#html_002esem">A.3 <samp><span class="file">html.sem</span></samp></a>
<li><a href="#nemeth_002esem">A.4 <samp><span class="file">nemeth.sem</span></samp></a>
<li><a href="#Files-for-BAUK-Maths-_0028ukmaths_0029">A.5 Files for BAUK Maths (ukmaths)</a>
<ul>
<li><a href="#ukmaths_002ecfg">A.5.1 <samp><span class="file">ukmaths.cfg</span></samp></a>
<li><a href="#ukmaths_002esem">A.5.2 <samp><span class="file">ukmaths.sem</span></samp></a>
<li><a href="#ukmaths_002ectb">A.5.3 <samp><span class="file">ukmaths.ctb</span></samp></a>
<li><a href="#ukmaths_005fedit_002ectb">A.5.4 <samp><span class="file">ukmaths_edit.ctb</span></samp></a>
</li></ul>
</li></ul>
<li><a name="toc_Configuration-Settings-Index" href="#Configuration-Settings-Index">Configuration Settings Index</a>
<li><a name="toc_Semantic-Action-Index" href="#Semantic-Action-Index">Semantic Action Index</a>
<li><a name="toc_Function-Index" href="#Function-Index">Function Index</a>
<li><a name="toc_Program-Index" href="#Program-Index">Program Index</a>
</li></ul>
</div>



<p><a name="Top"></a>

<h2 class="unnumbered">Liblouisxml User's and Programmer's Manual</h2>

<p>This manual is for liblouisxml (version 2.4.0,
11 May 2011), an xml to Braille Translation Library.

   <p>This file may contain code borrowed from the Linux screenreader
<acronym>BRLTTY</acronym>, Copyright &copy; 1999-2009 by the
<acronym>BRLTTY</acronym> Team.

<p class="noindent">Copyright &copy; 2004-2009 ViewPlus Technologies, Inc. 
<a href="www.viewplus.com">www.viewplus.com</a> and Copyright &copy; 2006,2009
Abilitiessoft, Inc. <a href="www.abilitiessoft.com">www.abilitiessoft.com</a>.

   <blockquote>
This file is free software; you can redistribute it and/or modify it
under the terms of the GNU Lesser (or library) General Public License
(LGPL) as published by the Free Software Foundation; either version 3,
or (at your option) any later version.

   <p>This file is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
Lesser (or Library) General Public License LGPL for more details.

   <p>You should have received a copy of the GNU Lesser (or Library) General
Public License (LGPL) along with this program; see the file COPYING. 
If not, write to the Free Software Foundation, 51 Franklin Street,
Fifth Floor, Boston, MA 02110-1301, USA. 
</blockquote>

<p><a name="Introduction"></a>

<h2 class="chapter">1 Introduction</h2>

<p>liblouisxml is a software component which can be incorporated into
software packages to provide the capability of translating any file in
the computer lingua franca xml format or plain text into properly
transcribed
braille. This includes translation into grade two, if desired,
mathematical codes, etc. It also includes formatting according to a
style sheet which can be modified by the user. The first
program into which liblouisxml has been incorporated is
<samp><span class="command">xml2brl</span></samp>. This program will translate an xml or text file
into an embosser-ready braille file. It is not necessary to know xml,
because MSWord and other word processors can export files in this
format. If the word processor has been used correctly
<samp><span class="command">xml2brl</span></samp> will produce an excellent braille file.

   <p>There is a Mac GUI application incorporating liblouisxml called
<samp><span class="command">louis</span></samp>. For a link to it go to
<a href="www.abilitiessoft.com/downloads">www.abilitiessoft.com/downloads</a>. You can also obtain a Windows
binary on this page. At present it is command-line. We hope to have a
GUI soon.

   <p>Users who want to generate Braille using <samp><span class="command">xml2brl</span></samp> will be
interested in <a href="#Transcribing-XML-files-with-xml2brl">Transcribing XML files with xml2brl</a>. Those who
wish to change the output generated by liblouisxml should read
<a href="#Customization-Configuring-liblouisxml">Customization Configuring liblouisxml</a>. If you encounter a type
of xml file with which liblouisxml is not familiar you can learn how
to tell it how to process that file by reading <a href="#Connecting-with-the-xml-Document">Connecting with the xml Document</a>. If you wish to implement a new braille mathematics
code read <a href="#Implementing-Braille-Mathematics-Codes">Implementing Braille Mathematics Codes</a>. Finally,
computer programmers who wish to use liblouisxml in their software can
find the information they need in <a href="#Programming-with-liblouisxml">Programming with liblouisxml</a>.

   <p>You will also find it advantageous to be acquainted with the companion
library liblouis, which is a braille translator and back-translator
(see <a href="liblouis.html#Top">Overview</a>).

<p><a name="Transcribing-Documents"></a>

<h2 class="chapter">2 Transcribing Documents</h2>

<p><a name="Transcribing-XML-files-with-xml2brl"></a>

<h3 class="section">2.1 Transcribing XML files with xml2brl</h3>

<p><a name="index-xml2brl-1"></a>
At the moment, actual transcription with liblouisxml is done with the
command-line (or console) program <samp><span class="command">xml2brl</span></samp>. The line to type
is:

<pre class="example">     xml2brl [OPTIONS] [-f config-file] [infile] [outfile]
</pre>
   <p>The brackets indicate that something is optional. You will see that
nothing is required except the program name itself, <samp><span class="command">xml2brl</span></samp>. 
The various optional parts control how the program will behave, as
follows:

     <dl>
<dt><samp><span class="option">-h</span></samp><dt><samp><span class="option">--help</span></samp><dd>This option causes <samp><span class="command">xml2brl</span></samp> to print a help message
describing usage and exit.

     <br><dt><samp><span class="option">-v</span></samp><dt><samp><span class="option">--version</span></samp><dd>This option causes <samp><span class="command">xml2brl</span></samp> to display the version
information and exit.

     <br><dt><samp><span class="option">-l</span></samp><dt><samp><span class="option">--log-file</span></samp><dd>This option will cause <samp><span class="command">xml2brl</span></samp> and liblouisxml to print
error messages to <samp><span class="file">xml2brl.log</span></samp> instead of stderr. The file will
be in the current directory. This option is particularly useful if
<samp><span class="command">xml2brl</span></samp> is called by a GUI script or Web application.

     <br><dt><samp><span class="option">-f configfile</span></samp><dt><samp><span class="option">--config-file configfile</span></samp><dd>This specifies the configuration file which tells <samp><span class="command">xml2brl</span></samp>
how to do the transcription. (It may be a list of file names separated
by commas.) This file specifies such things as the number of cells per
line, the number of lines per page, The translation tables to be used,
how paragraphs and headings are to be formatted, etc. If this part of
the command line is omitted, <samp><span class="command">xml2brl</span></samp> assumes that the
configuration file is named <samp><span class="file">default.cfg</span></samp>. If the configuration
file name contains a pathname <samp><span class="command">xml2brl</span></samp> will consider this as
a path on which to look for files that it needs (see <a href="#Files-and-Paths">Files and Paths</a>). If no pathname is given the standard paths are searched and
finally the current directory. To make <samp><span class="command">xml2brl</span></samp> search the
current directory first, precede the file name with <code>./</code>.

     <br><dt><samp><span class="option">-Csetting=value</span></samp><dt><samp><span class="option">--config-setting setting=value</span></samp><dd>This option enables you to specify configuration settings on the
command line instead of changing the configuration file. You can use
as many <samp><span class="option">-C</span></samp> options as you wish. Any settings can be specified
except those having to do with styles. See <a href="#Configuration-Settings-Index">Configuration Settings Index</a>, for a list of available settings. These must be specified in
configuration files. The settings may be in any order. They override
any settings in <samp><span class="file">canonical.cfg</span></samp> or in the configuration file used
by <samp><span class="command">xml2brl</span></samp>.

     <br><dt><samp><span class="option">-b</span></samp><dt><samp><span class="option">--backward</span></samp><dd>back-translate. The input file must be a braille file, such as
<samp><span class="file">.brf</span></samp>. The output file is a back-translation of this file. It
may be in either plain-text or xhtml (html), according to the setting
of <code>backFormat</code> in the <code>outputFormat</code> section of the
configuration file. Html files will contain page numbers and emphasis. 
To get good html, the liblouis table must have the entry &lsquo;<samp><span class="samp">space
\e 1b</span></samp>&rsquo; so that it will pass through escape characters. The
<samp><span class="file">html.sem</span></samp> file must also contain the line &lsquo;<samp><span class="samp">pagenum
pagenum</span></samp>&rsquo;. Text output files simply have a blank line between
paragraphs. Encoding of text files is controlled by the
<code>outputEncoding</code> setting. Html files are always in UTF-8.

     <br><dt><samp><span class="option">-r</span></samp><dt><samp><span class="option">--reformat</span></samp><dd>Reformat. The input file must be a braille file, such as <samp><span class="file">.brf</span></samp>. 
The output is a braille file formatted according to the configuration
file. It is advisable to set backFormat to html, since this will
preserve print page numbers and emphasis. This option can be useful
for changing the line length and page length of a braille file, for
example, from 40 to 32 cells. It is also an excellent way to check the
accuracy of liblouis tables. The original page numbers at the tops and
bottoms of pages are discarded, and new ones are generated.

     <br><dt><samp><span class="option">-p</span></samp><dt><samp><span class="option">--poorly-formatted</span></samp><dd>Poorly formatted input translation. Infile is any text file such as may
have been obtained by extracting the text in a pdf file. The input
file may also be an xml or html file which is so poorly formatted that
better braille can be obtained by ignoring the formatting. 
<samp><span class="command">xml2brl</span></samp> tries to guess paragraph breaks. The output is
generally reasonably formatted, that is, with reasonable paragraph
breaks.

     <br><dt><samp><span class="option">-t</span></samp><dt><samp><span class="option">--html</span></samp><dd>The document is an h(t)ml file, not xhtml. This option is useful with
files downloaded from the Web in source form. Without it, the program
will first try to parse the file as an xml document, producing lots of
error messages. It will then try the html parser. With this option, it
goes directly to the html parser. See also the <code>formatFor</code>
configuration (see <a href="#formatFor-setting">formatFor setting</a>) file setting, which enables
you to format the braille output for viewing in a browser.

     <br><dt><samp><span class="option">infile</span></samp><dd>This is the name of the input file containing the material to be
transcribed. The file may be either an xml file or a text file. The
<samp><span class="option">-b</span></samp>, <samp><span class="option">-r</span></samp> and <samp><span class="option">-p</span></samp> options discussed above
provide for other types of files and processing. Typical xml files are
those provided by <a href="www.bookshare.org">www.bookshare.org</a> or those derived from a
word processor by saving in xml format. If a text file is used
paragraphs and headings should be separated by blank lines. In such a
file there is no way to distinguish between paragraphs and headings,
so they will all be formatted as paragraphs, as specified by the
configuration file. However, if you want a blank line in the braille
transcription use two consecutive blank lines in the text file.

     <br><dt><samp><span class="option">outfile</span></samp><dd>This is the name of the output file. It will be transcribed as
specified by the configuration file and the <samp><span class="option">-C</span></samp> configuration
settings. 
The following paragraphs provide more information on both the input
and output files.

   </dl>

   <p><samp><span class="command">xml2brl</span></samp> is set up so that it can be used in a "pipe". To do
this, omit both infile and outfile. Input is then taken from the
standard input unit.

   <p>The first file name encountered (a word not preceded by a minus sign)
is taken to be the input file and the second to be the output file. If
you wish input to be taken from stdin and still want to specify an
output file, use one minus sign (&lsquo;<samp><span class="samp">-</span></samp>&rsquo;) for the input file.

   <p>If only the program name is typed <samp><span class="command">xml2brl</span></samp> assumes that the
configuration file is <samp><span class="file">default.cfg</span></samp>, input is from the standard
input unit, and output is to the standard output unit.

<p><a name="Transcribing-Text-Documents"></a>

<h3 class="section">2.2 Transcribing Text Documents</h3>

<p>See the previous section on using <samp><span class="command">xml2brl</span></samp>. This program
recognizes text files automatically and transcribes them according to
the information in the configuration files. Paragraphs must be
separated with a blank line. If you want a blank line in the output use
two blank lines.

<p><a name="Transcribing-Poorly-Formatted-Documents"></a>

<h3 class="section">2.3 Transcribing Poorly Formatted Documents</h3>

<pre class="example">     xml2brl -p infile outfile
</pre>
   <p>Some text documents, such as those derived from pdf files, and even
some xml and html documents, are so poorly formatted that you can get
better braille by ignoring whatever markup they contain. The
<samp><span class="option">-p</span></samp> option of <samp><span class="command">xml2brl</span></samp> does this. It ignores xml or
html markup and uses heuristics to find the beginning of paragraphs. 
Its choices are usually good. Note that it does not work with rtf
files. However, if <samp><span class="command">rtf2xml</span></samp> (see <a href="#Transcribing-RTF-files-with-rtf2brl">Transcribing RTF files with rtf2brl</a>) will convert the file, it will work with the resulting
xml file.

<p><a name="Transcribing-html-Documents"></a>

<h3 class="section">2.4 Transcribing html Documents</h3>

<pre class="example">     xml2brl -t infile outfile
</pre>
   <p>The <samp><span class="option">-t</span></samp> option prevents <samp><span class="command">xml2blr</span></samp> from trying to
transcribe
infile as an xml document. This will produce a lot of error messages. 
<samp><span class="command">xml2brl</span></samp> will then try the html parser. Note that xhtml
documents are actually xml.

<p><a name="Transcribing-Microsoft-Word-files-with-msword2brl"></a>

<h3 class="section">2.5 Transcribing Microsoft Word files with msword2brl</h3>

<p><a name="index-msword2brl-2"></a>
<pre class="example">     msword2brl infile outfile
</pre>
   <p>Infile must be a Microsoft Word file. The script first calls the
<samp><span class="command">antiword</span></samp> program, so you must have this installed on your
machine. <samp><span class="command">antiword</span></samp> is called with <samp><span class="option">-x db</span></samp>, which
causes the output to be in docbook format. This is piped to
<samp><span class="command">xml2brl</span></samp>. The output file from <samp><span class="command">xml2brl</span></samp> contains
much of the formatting, including emphasis, of the word file.

<p><a name="Transcribing-RTF-files-with-rtf2brl"></a>

<h3 class="section">2.6 Transcribing RTF files with rtf2brl</h3>

<p><a name="index-rtf2brl-3"></a>
<pre class="example">     rtf2brl infile outfile
</pre>
   <p>Infile must be a rich-text (rtf) file, such as Bookshare provides for
proofreading. The script first calls <samp><span class="command">rtf2xml</span></samp>, so you must have
this program installed on your machine. You can find it on the downloads
page of <a href="www.abilitiessoft.com">www.abilitiessoft.com</a>. It was copied from its SourceForge
project. Since it is a Python program, it can be rather slow. Its output
is piped to <samp><span class="command">xml2brl</span></samp>. The output of <samp><span class="command">rtf2xml</span></samp> is xml
with the root element <code>doc</code>. The file <samp><span class="file">doc.sem</span></samp> is fairly
complete, so the output of <samp><span class="command">xml2brl</span></samp> contains much of the
formatting, including emphasis, of the original rtf file.

<p><a name="Transcribing-PDF-files-with-pdf2brl"></a>

<h3 class="section">2.7 Transcribing PDF files with pdf2brl</h3>

<p><a name="index-pdf2brl-4"></a>
<pre class="example">     pdf2brl infile outfile
</pre>
   <p>Infile must be a PDF (Portable Document Format) file. The script first
calls the <samp><span class="command">pdftotext</span></samp> program, so you must have this installed
on your machine. It is part of xpdf and most likely already installed
if you're on a modern Linux distribution. Otherwise, you can get it
from either <a href="http://poppler.freedesktop.org">http://poppler.freedesktop.org</a> or
<a href="http://www.foolabs.com/xpdf/download.html">http://www.foolabs.com/xpdf/download.html</a>. <samp><span class="command">pdftotext</span></samp>
is called with the <samp><span class="option">-raw</span></samp> and <samp><span class="option">-</span></samp> options, which cause
it to place its output on stdout. This is piped to <samp><span class="command">xml2brl</span></samp>,
which is called with the <samp><span class="option">-p</span></samp> option, since output from
<samp><span class="command">pdftotext</span></samp> is likely to be poorly formatted. The output file
from <samp><span class="command">xml2brl</span></samp> is mostly in sensible paragraphs.

<p><a name="Customization-Configuring-liblouisxml"></a>

<h2 class="chapter">3 Customization: Configuring liblouisxml</h2>

<p>The operation of liblouisxml is controlled by two types of files:
semantic-action files and configuration files. The former are
discussed in the section Connecting with the xml Document -
Semantic-action Files (see <a href="#Connecting-with-the-xml-Document">Connecting with the xml Document - Semantic-Action Files</a>). The latter are
discussed in this section. A third type of file, braille translation
tables, is discussed in the liblouis documentation (see <a href="liblouis.html#Top">Overview</a>). 
Another section of the present document which may be of interest is
Implementing Braille Mathematical Codes (see <a href="#Implementing-Braille-Mathematics-Codes">Implementing Braille Mathematics Codes</a>).

   <p>Besides files, liblouisxml can also be controlled by configuration
strings, which are character strings in memory containing configuration
settings separated by end-of-line characters. Such strings can be
generated by the <samp><span class="option">-C</span></samp> option on the <samp><span class="command">xml2brl</span></samp> command
line, by the <code>configstring</code> and <code>configtweak</code> semantic
actions, or by passing a string to the <code>lbx_initialize</code> function.

   <p>The information below applies to <samp><span class="command">xml2brl</span></samp> as much as to
liblouisxml.

   <p>Before discussing configuration files in detail it is worth noting
that the application program has access to the information in the
configuration files by calling the liblouisxml function
<code>lbx_initialize</code>. This function returns a pointer to a data
structure containing the configuration information. The calling program
must include the header file <code>louisxml.h</code>. You do not need to call
<code>lbx_initialize</code> unless you need the facilities which it provides.

   <p>A configuration file specification may contain more than one file name,
separated by commas. liblouisxml will process these files in sequence. 
The first file name may also contain a path. liblouisxml will search for
the files it needs first on this path. To make it search first the
current directory precede the first file name with <code>./</code>. After the
path, if any, has been evaluated, but before reading any of the files,
liblouisxml reads in a file called <samp><span class="file">canonical.cfg</span></samp>. This file
specifies values for all possible settings. It is needed to complete the
initialization of the program. You may alter the values in the
distribution <samp><span class="file">canonical.cfg</span></samp>, but you should not delete any
settings. Do not specify <samp><span class="file">canonical.cfg</span></samp> as your configuration
file. This will lead to error messages and program termination. If a
configuration file read in later contains a particular setting name, the
value specified simply replaces the one specified in
<samp><span class="file">canonical.cfg</span></samp>.

   <p>As you will see by looking at <samp><span class="file">canonical.cfg</span></samp>, it contains four
main sections, <code>outputFormat</code>, <code>translation</code>, <code>xml</code> and
<code>style</code>. In addition, a configuration file can contain an
include entry. This causes the file named on that line to be read in
at the point where the line occurs. The sections need not follow each
other in any particular order, nor is the order of settings within
each section important. The section names, except for <code>style</code> are
optional. In this document and in the
<samp><span class="file">canonical.cfg</span></samp> file, where section and setting names consist of
more than one word, the first letter of each word following the
initial one is capitalized. This is merely for readability. The case
of the letters in these names is ignored by the program. Section and
setting names may not contain spaces.

   <p>Here, then, is an explanation of each section and setting in the
<samp><span class="file">canonical.cfg</span></samp> file. When you look at this file you will see
that the section names start at the left margin, while the settings
are indented one tab stop. This is done for readability. it has no
effect on the meaning of the lines. You will also see lines beginning
with a number sign (&lsquo;<samp><span class="samp">#</span></samp>&rsquo;), which are comments. Blank lines can
also be used anywhere in a configuration file. In general, a section
name is a single word or combination of unspaced words. However, each
style has a section of its own, so the word &lsquo;<samp><span class="samp">style</span></samp>&rsquo; is followed
by a space then by the name of the style. Setting lines begin with the
name of the
setting, followed by at least one space or tab, followed by the value
of the setting. A few settings have two values.

<p><a name="outputFormat"></a>

<h3 class="section">3.1 outputFormat</h3>

<p>This section specifies the format of the output file (or string).

     
<a name="index-cellsPerLine-5"></a>
<dl><dt><code>cellsPerLine 40</code><dd>
The number of cells in a braille line.

     <p><a name="index-linesPerPage-6"></a><br><dt><code>linesPerPage 25</code><dd>
The number of lines on a braille page

     <p><a name="index-interpoint-7"></a><br><dt><code>interpoint no</code><dd>
Whether or not the output will be used to produce interpoint braille. 
This affects the placement of page numbers and may affect other things
in the future. The only two values recognized are &lsquo;<samp><span class="samp">yes</span></samp>&rsquo; and
&lsquo;<samp><span class="samp">no</span></samp>&rsquo;.

     <p><a name="index-lineEnd-8"></a><br><dt><code>lineEnd \r\n</code><dd>
This specifies the control characters to be placed at the end of each
output line. These characters vary from one intended use of the output
to another. Most embossers require the carriage-return and line-feed
combination specified above. However, a braille display may work best
with just one or the other. Any valid control characters can be
specified.

     <p><a name="index-pageEnd-9"></a><br><dt><code>pageEnd \f</code><dd>
The control Character to be given at the end of a page. Here it is a
forms-feed character, but it can be something else if deeded.

     <p><a name="index-fileEnd-10"></a><br><dt><code>fileEnd ^z</code><dd>
The control character to be placed at the end of the file, here a
control-z.

     <p><a name="index-printPages-11"></a><br><dt><code>printPages yes</code><dd>
Whether or not to show print page numbers if they are given in the xml
input. The two valid values are &lsquo;<samp><span class="samp">yes</span></samp>&rsquo; and &lsquo;<samp><span class="samp">no</span></samp>&rsquo;.

     <p><a name="index-braillePages-12"></a><br><dt><code>braillePages yes</code><dd>
Whether or not to format the output into pages. Here the value is
&lsquo;<samp><span class="samp">yes</span></samp>&rsquo;, for use with an embosser. However the user of a braille
display may wish to specify &lsquo;<samp><span class="samp">no</span></samp>&rsquo;, so as not to be bothered with
page numbers and forms feed characters. If no is specified the lines
will still be of the length given in <code>cellsPerLine</code>, but the
value of <code>linesPerPage</code> will be ignored.

     <p><a name="index-paragraphs-13"></a><br><dt><code>paragraphs yes</code><dd>
Whether or not to format the output into paragraphs, using appropriate
styles. If &lsquo;<samp><span class="samp">no</span></samp>&rsquo; is specified, what would be a paragraph is output
simply as one long line. Applications that wish to do their own
formatting may specify &lsquo;<samp><span class="samp">no</span></samp>&rsquo;.

     <p><a name="index-beginningPageNumber-14"></a><br><dt><code>beginningPageNumber 1</code><dd>
This is the number to be placed on the first Braille page if
<code>braillePages</code> is yes. This is useful when producing multiple
Braille volumes.

     <p><a name="index-printPageNumberAt-15"></a><br><dt><code>printPageNumberAt top</code><dd>
If print page numbers are given in the xml input file they will be
placed at the top of each braille page in the right-hand corner. If
<code>pageSeparator</code> is set to &lsquo;<samp><span class="samp">yes</span></samp>&rsquo;, a page separator line
will also be produced on the Braille page where the print page break
actually occurs. You may also specify &lsquo;<samp><span class="samp">bottom</span></samp>&rsquo; for this setting.

     <p><a name="index-braillePageNumberAt-16"></a><br><dt><code>braillePageNumberAt bottom</code><dd>
The braille page number will be placed in the bottom right-hand corner
of each page. If <code>interpoint yes</code> has been specified only odd pages
will receive page numbers. You may also specify &lsquo;<samp><span class="samp">top</span></samp>&rsquo; for this
setting. If print page numbers and Braille page numbers are
both placed at the top or bottom, they are rendered next to each other
with a space in between.

     <p><a name="continuePages-setting"></a><a name="index-continuePages-17"></a><br><dt><code>continuePages yes</code><dd>
Print page numbers can be prefixed with a letter (a, b, c, etc.) on
continued pages. The two valid values are &lsquo;<samp><span class="samp">yes</span></samp>&rsquo; and &lsquo;<samp><span class="samp">no</span></samp>&rsquo;.

     <p><a name="pageSeparator-setting"></a><a name="index-pageSeparator-18"></a><br><dt><code>pageSeparator yes</code><dd>
A page separator line (or page break indicator), a line of unspaced
Braille dots 36, will be placed wherever a print page break occurs. No
page separator lines are placed on the first or last line of a Braille
page, and no page separator lines are shown when the new print page
coincides with a new Braille page.

     <p><a name="index-pageSeparatorNumber-19"></a><br><dt><code>pageSeparatorNumber yes</code><dd>
Show a page number at the far right margin of a page separator line. No
space is left between the separator line and the first symbol of the
page number.

     <p><a name="index-ignoreEmptyPages-20"></a><br><dt><code>ignoreEmptyPages yes</code><dd>
An empty page occurs when a <code>pagenum</code> tag is immediately followed
by another <code>pagenum</code> tag. By default, empty pages are completely
ignored. If you specify &lsquo;<samp><span class="samp">no</span></samp>&rsquo; for this setting, a sequence of
<code>pagenum</code> tags will lead to a <em>combined</em> print page number:
the number of the first empty page is combined with that of the page on
which text reappears, e.g. 5-7. If lettered continuation pages are
required (see <code>continuePages</code>), they carry only the number of the
page on which text reappears.

     <p><a name="printPageNumberRange-setting"></a><a name="index-printPageNumberRange-21"></a><br><dt><code>printPageNumberRange no</code><dd>
By default, only the page number of the <em>first</em> print page on a
Braille page is shown at the top or bottom. However, if
<code>printPageNumberRange</code> is set to &lsquo;<samp><span class="samp">yes</span></samp>&rsquo;, the <em>range</em> of
print pages contained in the current Braille page is displayed. If the
first page in this range is a continued print page, it is prefixed
with a letter as usual (see <code>continuePages</code>).

     <p><a name="index-mergeUnnumberedPages-22"></a><br><dt><code>mergeUnnumberedPages yes</code><dd>
Page breaks without a page number can simply be ignored. This means that
unnumbered print pages will be treated as if they were a part of the
preceding page. You can also specify &lsquo;<samp><span class="samp">no</span></samp>&rsquo; for this setting.

     <p><a name="index-pageNumberTopSeparateLine-23"></a><br><dt><code>pageNumberTopSeparateLine yes</code><dd>
Whether or not to provide a separate line for page numbers when they are
placed at the top of a Braille page. The two valid values are &lsquo;<samp><span class="samp">yes</span></samp>&rsquo; and
&lsquo;<samp><span class="samp">no</span></samp>&rsquo;. A print page number range (see <code>printPageNumberRange</code>)
at the top of a page is always displayed on a separate line.

     <p><a name="index-pageNumberBottomSeparateLine-24"></a><br><dt><code>pageNumberBottomSeparateLine yes</code><dd>
Whether or not to provide a separate line for page numbers when they are
placed at the bottom of a Braille page.

     <p><a name="index-hyphenate-25"></a><br><dt><code>hyphenate no</code><dd>
If &lsquo;<samp><span class="samp">yes</span></samp>&rsquo; is specified words will be hyphenated at the ends of
lines if a hyphenation table is available. In contracted English
Braille hyphenation is not generally used, but it can save
considerable space. The hyphenation table is specified as part of the
table list in the <code>literaryTextTable</code> setting of the translation
section.

     <p><a name="index-outputEncoding-26"></a><br><dt><code>outputEncoding ascii8</code><dd>
This specifies that the output is to be in the form of 8-bit ASCII
characters. This is generally used if the output is intended directly
for a braille embosser or display. The other values of encoding are
&lsquo;<samp><span class="samp">UTF8</span></samp>&rsquo;, &lsquo;<samp><span class="samp">UTF16</span></samp>&rsquo; and &lsquo;<samp><span class="samp">UTF32</span></samp>&rsquo;. These are useful if the
application will process the output further, such as for generating
displays of braille dots on a screen.

     <p><a name="index-inputTextEncoding-27"></a><br><dt><code>inputTextEncoding ascii8</code><dd>
This setting is used to specify the encoding of an input text file. 
The valid values are &lsquo;<samp><span class="samp">UTF8</span></samp>&rsquo; and &lsquo;<samp><span class="samp">ascii8</span></samp>&rsquo;.

     <p><a name="formatFor-setting"></a><a name="index-formatFor-28"></a><br><dt><code>formatFor textDevice</code><dd>
This setting specifies the type of device the output is intended for. 
&lsquo;<samp><span class="samp">textDevice</span></samp>&rsquo; is any device that accepts plain text, including
embossers. You can also specify &lsquo;<samp><span class="samp">browser</span></samp>&rsquo;. In this case the
output will be formatted for viewing in a browser. If the input file
contains links, they will be preserved and can be used in the normal
way. The text will be translated into braille with the correct line
length. Math and computer material will be translated appropriately. 
These files work well in lynx and Internet Explorer, not so well
in
elinks and Firefox (Before Jaws 10).

     <p><a name="index-backFormat-29"></a><br><dt><code>backFormat plain</code><dd>
This setting specifies the format of back-translated files. 
&lsquo;<samp><span class="samp">Plain</span></samp>&rsquo; specifies plain-text, while &lsquo;<samp><span class="samp">html</span></samp>&rsquo; specifies xhtml. 
The latter is always encoded in UTF-8. Plain-text files can be encoded
in ascii8, UTF-8 or UTF-16. Html is strongly recommended, since it
will preserve print page numbering and emphasis.

     <p><a name="index-backLineLength-30"></a><br><dt><code>backLineLength 70</code><dd>
This setting specifies the length of lines in back-translated files,
whether in plain-text or html. This is mainly for human readability. 
Lines may sometimes be somewhat longer.

     <p><a name="index-interline-31"></a><br><dt><code>interline no</code><dd>
This setting specifies whether interlining is desired. If it is set to
&lsquo;<samp><span class="samp">yes</span></samp>&rsquo;, the first line in the output will be a braille
translation, the next line will be its back-translation according to
the interlineBackTable. Back-translation is used instead of simply
presenting the print original because a braille line may contain
additional information, such as leading blanks, print or braille page
numbers, print page separator lines, etc.

     <p><a name="lineFill-setting"></a><a name="index-lineFill-32"></a><br><dt><code>lineFill '</code><dd>
This setting defines the fill character that will be used before the
page numbers in the table of contents for example. The default fill
character is an apostrophe (dot 3).

   </dl>

<p><a name="translation"></a>

<h3 class="section">3.2 translation</h3>

<p>This section specifies the liblouis translation tables to be used for
various purposes.

     
<a name="index-literaryTextTable-33"></a>
<dl><dt><code>literaryTextTable en-us-g2.ctb</code><dd>
The table used for producing literary braille. This may be either
contracted or uncontracted.

     <p><a name="index-uncontractedTable-34"></a><br><dt><code>uncontractedTable en-us-g1.ctb</code><dd>
The table used for producing uncontracted or Grade One braille. This
setting appears to be superfluous and may be eliminated in the future.

     <p><a name="index-compbrailleTable-35"></a><br><dt><code>compbrailleTable en-us-compbrl.ctb</code><dd>
The table used for producing large amounts of output in computer
braille, such as computer programs. The computer braille table is
usually combined with one of the two tables above.

     <p><a name="index-mathtextTable-36"></a><br><dt><code>mathtextTable en-us-mathtext.ctb</code><dd>
This table specifies how the non-mathematical parts of math books are
to be translated. In many cases it will be the same as
literaryTextTable or uncontractedTable. For books translated with the
Nemeth Code it is different, because this code requires modification
of standard Grade Two.

     <p><a name="index-MathexpTable-37"></a><br><dt><code>MathexpTable nemeth.ctb</code><dd>
This is the table used to translate mathematical expressions.

     <p><a name="index-editTable-38"></a><br><dt><code>editTable nemeth_edit.ctb</code><dd>
When the output includes both mathematics and text there may be errors
where one type of translation directly follows another. The editTable
removes these errors.

     <p><a name="index-interlineBackTable-39"></a><br><dt><code>interlineBackTable en-us-interline.ctb</code><dd>
This setting specifies the table to be used for back-translation when
interlining is turned on. It must be tailored for this purpose, since
an ordinary forward-translation table may contain entries that do not
handle the additional information in braille lines correctly.

   </dl>

<p><a name="xml"></a>

<h3 class="section">3.3 xml</h3>

<p>This section provides various information for the processing of xml files.

     
<a name="index-semanticFiles-40"></a>
<dl><dt><code>semanticFiles *,nemeth.sem</code><dd>
This setting gives a list of semantic-action files. These files are
read in the sequence given in the list. Here the first member of the
list is an asterisk (&lsquo;<samp><span class="samp">*</span></samp>&rsquo;). This means that the corresponding file
is to be named by taking the root element of the document and
appending &lsquo;<samp><span class="samp">.sem</span></samp>&rsquo;. This asterisk member may occur anywhere in the
list.

     <p><a name="index-xmlheader-41"></a><br><dt><code>xmlheader &lt;?xml version='1.0' encoding='UTF8' standalone='yes'?&gt;</code><dd>
This line gives the xml header to be added to strings produced by
programs like <samp><span class="command">Mathtype</span></samp> that lack one.

     <p><a name="index-entity-42"></a><br><dt><code>entity nbsp ^1</code><dd>
This line defines an entity or substitution in an xml file. It is one
of those that has two values. The first is the thing to be replaced,
and the second is the replacement. As many entity lines as necessary
can be used. The information they contain is added to the information
provided by xmlHeader. In <samp><span class="file">canonical.cfg</span></samp> this line is commented
out, because specifying it at this point would prevent the user from
specifying his own xmlheader.

     <p><a name="index-internetAccess-43"></a><br><dt><code>internetAccess yes</code><dd>
The computer has an internet connection and liblouisxml may obtain
information necessary for the processing of this file from the
Internet. If this setting is &lsquo;<samp><span class="samp">no</span></samp>&rsquo; liblouisxml will not try to use
the internet. The necessary information may, however, be provided on
the local machine in the form of a "dtd" file.

     <p><a name="index-newEntries-44"></a><br><dt><code>newEntries yes</code><dd>
liblouisxml may create a new semantic-action file (beginning with
<samp><span class="file">new_</span></samp>) for a document with an unknown root element or a file
(beginning with <samp><span class="file">appended_</span></samp>) containing new entries for an
existing semantic-action file. Both kinds of files are placed on the
current directory. If this setting is &lsquo;<samp><span class="samp">no</span></samp>&rsquo; liblouisxml will not
create a file of new entries and if it encounters a document with an
unknown root element it will issue an error message. Setting
newEntries to &lsquo;<samp><span class="samp">no</span></samp>&rsquo; may be useful if users should not be bothered
with the minutiae of semantic-action files.

   </dl>

<p><a name="style"></a>

<h3 class="section">3.4 style</h3>

<p>The following sections all deal with styles. Each style has its own
section. Style section names are unlike other section names in that they
consist of the word style, followed by a space, followed by a style
name. With some exceptions, styles are not hard-coded. The user may
define any style desired, with any name except <code>document</code>,
<code>para</code>, <code>heading1</code>, <code>heading2</code>, <code>heading3</code>,
<code>heading4</code>, <code>contentsheader</code>, <code>contents1</code>,
<code>contents2</code>, <code>contents3</code> and <code>contents4</code>. The first two
are needed for basic formatting. The others are needed for the table of
contents tool. The user must define settings for these styles as for any
others. This is done in <samp><span class="file">canonical.cfg</span></samp>, which also contains
definitions and settings for many other styles. The user can add styles
at any time in her/his own configuration files.

   <p>Styles can be nested. That is, a document may contain a section of one
style, and inside this may be a section of another style. For example,
you might have styles named frontMatter, titlePage, dedication,
contents, and so on. Your document might contain a section of style
frontMatter. Inside this section might be subsections of styles
titlePage, dedication, contents, and so on. Inside the titlePage section
there might be other sections with styles heading1, para, centered, etc.

   <p>Your frontMatter style might also define the "persistent" style setting
<code>braillePageNumberFormat roman</code>. This setting will apply to all the
styles nested within frontMatter, unless they have a setting other than
&lsquo;<samp><span class="samp">normal</span></samp>&rsquo;, which is the default and means ordinary braille page
numbers. However, the titlePage style might have the setting
<code>braillePageNumberFormat blank</code>. This will apply to all styles
nested within it. When the titlePage section ends, the frontMatter
setting &lsquo;<samp><span class="samp">roman</span></samp>&rsquo; will be restored. The
&lsquo;<samp><span class="samp">braiblePageNumberFormat</span></samp>&rsquo; setting is an example of a "persistent"
style setting. Most settings apply only to the style for which they are
declared.

   <p>Below are the settings for the predefined style names. The
&lsquo;<samp><span class="samp">document</span></samp>&rsquo; style contains all possible settings. The others contain
only settings that are different from the defaults.

<h4 class="subsection">3.4.1 style document</h4>

<p>This is a predefined style name. All settings have their default values. 
The user must specify any other values. If a "persistent" style setting
is specified, it will apply to the whole ducument.

     
<a name="index-linesBefore-45"></a>
<dl><dt><code>linesBefore 0</code><dd>

     <p>This setting gives the number of blank lines which should be left
before the text to which this style applies. It is set to a non-zero
value for some header styles.

     <p><a name="index-linesAfter-46"></a><br><dt><code>linesAfter 0</code><dd>

     <p>The number of blank lines which should be left after the text to which
this style applies.

     <p><a name="index-leftMargin-47"></a><br><dt><code>leftMargin 0</code><dd>

     <p>The number of cells by which the left margin of all lines in the text
should be indented. Used for hanging indents, among other things.

     <p><a name="index-firstLineIndent-48"></a><br><dt><code>firstLineIndent 0</code><dd>

     <p>The number of cells by which the first line is to be indented relative
to leftMargin. firstLineIndent may be negative. If the result is less
than 0 it will be set to 0.

     <p><a name="index-translate-49"></a><br><dt><code>translate contracted</code><dd>

     <p>This setting is currently inactive. It may be used in the future. This
setting tells how text in this style should be translated. Possible
values are &lsquo;<samp><span class="samp">contracted</span></samp>&rsquo;, &lsquo;<samp><span class="samp">uncontracted</span></samp>&rsquo;, &lsquo;<samp><span class="samp">compbrl</span></samp>&rsquo;,
&lsquo;<samp><span class="samp">mathtext</span></samp>&rsquo; and &lsquo;<samp><span class="samp">mathexpr</span></samp>&rsquo;.

     <p><a name="index-skipNumberLines-50"></a><br><dt><code>skipNumberLines no</code><dd>

     <p>If this setting is &lsquo;<samp><span class="samp">yes</span></samp>&rsquo; the top and bottom lines on the page
will be skipped if they contain braille or print page numbers. This is
useful in some of the mathematical and graphical styles.

     <p><a name="index-format-51"></a><br><dt><code>format leftJustified</code><dd>

     <p>The format setting controls how the text in the style will be
formatted. Valid values are &lsquo;<samp><span class="samp">leftJustified</span></samp>&rsquo;,
&lsquo;<samp><span class="samp">rightJustified</span></samp>&rsquo;, &lsquo;<samp><span class="samp">centered</span></samp>&rsquo;, &lsquo;<samp><span class="samp">computerCoded</span></samp>&rsquo;,
&lsquo;<samp><span class="samp">alignColumnsLeft</span></samp>&rsquo;, &lsquo;<samp><span class="samp">alignColumnsRight</span></samp>&rsquo;,
and &lsquo;<samp><span class="samp">contents</span></samp>&rsquo;. The first three are self-explanatory. 
&lsquo;<samp><span class="samp">computerCoded</span></samp>&rsquo; is used for computer programs and similar material. 
The next two are used for tabular material. &lsquo;<samp><span class="samp">alignColumnsLeft</span></samp>&rsquo;
causes the left ends of columns to be aligned. &lsquo;<samp><span class="samp">alignColumnsRight</span></samp>&rsquo;
causes the right ends of columns to be aligned. &lsquo;<samp><span class="samp">contents</span></samp>&rsquo; is used
only in styles specifically intended for tables of contents.

     <p><a name="index-newPageBefore-52"></a><br><dt><code>newPageBefore no</code><dd>

     <p>If this setting is &lsquo;<samp><span class="samp">yes</span></samp>&rsquo;, the text will begin on a new page. This
is useful for certain mathematical and graphical styles. Page numbers
are handled properly.

     <p><a name="index-newPageAfter-53"></a><br><dt><code>newPageAfter no</code><dd>

     <p>If this setting is &lsquo;<samp><span class="samp">yes</span></samp>&rsquo; any remaining space on the page after
the material covered by this style is handled is left blank, except
for page numbers.

     <p><a name="index-rightHandPage-54"></a><br><dt><code>rightHandPage no</code><dd>

     <p>if this setting is &lsquo;<samp><span class="samp">yes</span></samp>&rsquo; and interpoint is yes the material
covered by this style will start on a right-hand page. This may cause
a left-hand page to be left blank except for page numbers. If
interpoint is &lsquo;<samp><span class="samp">no</span></samp>&rsquo; this setting is equivalent to newPageBefore.

     <p><a name="index-braillePageNumberFormat-55"></a><br><dt><code>braillePageNumberFormat normal</code><dd>

     <p>This setting specifies the format of braille page numbers. &lsquo;<samp><span class="samp">normal</span></samp>&rsquo;
means ordinary Arabic numbers. &lsquo;<samp><span class="samp">roman</span></samp>&rsquo; means Roman numbers. 
&lsquo;<samp><span class="samp">p</span></samp>&rsquo; means to precede Arabic numbers with the letter "p" (for
preliminary). Finally, &lsquo;<samp><span class="samp">blank</span></samp>&rsquo; causes the page number to be blank
(no page numbers). This is a "persistent" style setting.

   </dl>

   <p><a name="contentsheader-style"></a>

<h4 class="subsection">3.4.2 style contentsheader</h4>

<p>This style is used to specify where the table of contents should be
placed and its title. The xml tag assigned to it in the semantic action
file should be placed in the document where you want the table of
contents, and it should contain the title of that table between its
starting and ending markers.

     
<a name="index-linesBefore-56"></a>
<dl><dt><code>linesBefore 1</code><dd>
<a name="index-linesAfter-57"></a><br><dt><code>linesAfter 1</code><dd>
<a name="index-format-58"></a><br><dt><code>format centered</code><dd>
</dl>

<h4 class="subsection">3.4.3 style contents1</h4>

<p>This style and the other contents styles are used for the table of
contents and correspond to the four heading levels.
     
<a name="index-firstLineIndent-59"></a>
<dl><dt><code>firstLineIndent -2</code><dd>
<a name="index-leftMargin-60"></a><br><dt><code>leftMargin 2</code><dd>
<a name="index-format-61"></a><br><dt><code>format contents</code><dd>
</dl>

<h4 class="subsection">3.4.4 style contents2</h4>

     
<a name="index-firstLineIndent-62"></a>
<dl><dt><code>firstLineIndent -2</code><dd>
<a name="index-leftMargin-63"></a><br><dt><code>leftMargin 4</code><dd>
<a name="index-format-64"></a><br><dt><code>format contents</code><dd>
</dl>

<h4 class="subsection">3.4.5 style contents3</h4>

     
<a name="index-firstLineIndent-65"></a>
<dl><dt><code>firstLineIndent -2</code><dd>
<a name="index-leftMargin-66"></a><br><dt><code>leftMargin 6</code><dd>
<a name="index-format-67"></a><br><dt><code>format contents</code><dd>
</dl>

<h4 class="subsection">3.4.6 style contents4</h4>

     
<a name="index-firstLineIndent-68"></a>
<dl><dt><code>firstLineIndent -2</code><dd>
<a name="index-leftMargin-69"></a><br><dt><code>leftMargin 8</code><dd>
<a name="index-format-70"></a><br><dt><code>format contents</code><dd>
</dl>

<h4 class="subsection">3.4.7 style heading1</h4>

<p>This style is used for main headings, such as chapter titles.

     
<a name="index-linesBefore-71"></a>
<dl><dt><code>linesBefore 1</code><dd>

     <p><a name="index-center-72"></a><br><dt><code>center yes</code><dd>

     <p><a name="index-linesAfter-73"></a><br><dt><code>linesAfter 1</code><dd>

   </dl>

<h4 class="subsection">3.4.8 style heading2</h4>

<p>The first level of subheadings after the main heading.

     
<a name="index-linesBefore-74"></a>
<dl><dt><code>linesBefore 1</code><dd>

     <p><a name="index-firstLineIndent-75"></a><br><dt><code>firstLineIndent 4</code><dd>

   </dl>

<h4 class="subsection">3.4.9 style heading3</h4>

<p>The third level of headings.

     
<a name="index-firstLineIndent-76"></a>
<dl><dt><code>firstLineIndent 4</code><dd>

   </dl>

<h4 class="subsection">3.4.10 style heading4</h4>

<p>The fourth and final level of headings.

     
<a name="index-firstLineIndent-77"></a>
<dl><dt><code>firstLineIndent 4</code><dd>

   </dl>

<h4 class="subsection">3.4.11 style para</h4>

<p>Paragraph. This is ordinary body text.

     
<a name="index-firstLineIndent-78"></a>
<dl><dt><code>firstLineIndent 2</code><dd>

   </dl>

<p><a name="Connecting-with-the-xml-Document"></a>

<h2 class="chapter">4 Connecting with the xml Document - Semantic-Action Files</h2>

<p><a name="Semantic-Actions-Overview"></a>

<h3 class="section">4.1 Overview</h3>

<p>When liblouisxml (or <samp><span class="command">xml2brl</span></samp>) processes an xml document, it
needs to be told how to use the information in that document to
produce a properly translated and formatted braille document. These
instructions are provided by a semantic-action file, so called because
it explains the meaning, or semantics, of the various specifications
in the xml document. To understand how this works, it is necessary to
have a basic knowledge of the organization of an xml document.

   <p>An xml document is organized like a book, but with much finer detail. 
First there is the title of the whole book. Then there are various
sections, such as author, copyright, table of contents, dedication,
acknowledgments, preface, various chapters, bibliography, index, and so
on. Each chapter may be divided into sections, and these in turn can be
divided into subsections, subsubsections, etc. In a book the parts have
names or titles distinguished by capitalization, type fonts, spacing,
and so forth. In an xml document the names of the parts are enclosed in
angle brackets (&lsquo;<samp><span class="samp">&lt;&gt;</span></samp>&rsquo;). For example, if liblouisxml encounters
<code>&lt;html&gt;</code> at the beginning of a document, it knows it is dealing
with a document that conforms to the standards of the extensible markup
language (xhtml) - at least we hope it does. When you see a book, you
know it's a book. The computer can know only by being told. Something
enclosed in angle brackets is called an "element" (more properly, a
"tag") in xml parlance. (There may be more between the angle brackets
than just the name of the element. More of this later). The first
"element" in a document thus tells liblouisxml what kind of document it
is dealing with. This element is called the "root element" because the
document is visualized as branching out from it like a tree. Some
examples of root elements are <code>&lt;html&gt;</code>, <code>&lt;math&gt;</code>,
<code>&lt;book&gt;</code>, <code>&lt;dtbook&gt;</code> and <code>&lt;wordDocument&gt;</code>. Whenever
liblouisxml encounters a root element that it doesn't know about it
creates a new file called a semantic-action file. The name of this file
is formed by stripping the angle brackets from the root element, putting
&lsquo;<samp><span class="samp">new_</span></samp>&rsquo; in front of it and adding a period plus the letters
&lsquo;<samp><span class="samp">sem</span></samp>&rsquo;. For example, &lsquo;<samp><span class="samp">new_myformat.sem</span></samp>&rsquo;. If you look in a
directory containing semantic-action files you will see names like
<samp><span class="file">html.sem</span></samp>, <samp><span class="file">dtbook.sem</span></samp>, <samp><span class="file">math.sem</span></samp>, and so on. The
"new" semantic-action files must be edited by a person and the prefix
"new" removed to get an ordinary semantic-action file name.

   <p>Sometimes it is advantageous to preempt the creation of a
semantic-action file for a new root element. For example, an article
written according to the docbook specification may have the root element
<code>&lt;article&gt;</code>. However, the specification itself has the root element
<code>&lt;book&gt;</code>. In this case you can specify the <samp><span class="file">book.sem</span></samp> file in
the configuration file by writing, in the xml section,:

<pre class="example">     semanticFiles book.sem
</pre>
   <p>You will note that this setting uses the plural of "file". This is
because you can actually specify a list of file names separated by
commas. You might want to do this to specify the semantic-action file
for the particular braille mathematical code to be used. For example:

<pre class="example">     semanticFiles book.sem,ukmaths.sem
</pre>
   <p>You can use an asterisk <code>*</code> to specify the semantic-action file
corresponding to the root element of the document anywhere in the list.

   <p>As you will see in the next section, different braille style
conventions and different braille mathematical codes may require
different semantic-action files

   <p>liblouisxml records the names of all elements found in the document in
the semantic-action file. The document has a multitude of elements,
which can be thought of as describing the headings of various parts of
the document. One element is used to denote a chapter heading. Another
is used to denote a paragraph, Still another to denote text in bold
type, and so on. In other words, the elements take the place of the
capitalization, changes in type font, spacing, etc. in a book. 
However, the computer still does not know what to do when it
encounters an element. The semantic-action file tells it that.

   <p>Consider <samp><span class="file">html.sem</span></samp>. A copy is included as part of this
documentation with the name <samp><span class="file">example_html.sem</span></samp>
(see <a href="#html_002esem">html.sem</a>). It may differ from the file that liblouisxml is
currently using. You will see that it begins with some lines about
copyrights. Each line begins with a number sign (&lsquo;<samp><span class="samp">#</span></samp>&rsquo;). This
indicates that it is a "comment", intended for the human reader and
the computer should ignore it. Then there is a blank line. Finally,
there are two other comments explaining that the file must be edited
to get proper output. This is because a human being must tell the
computer what to do with each element. The semantic files for common
types of documents have already been edited, so you generally don't
have to worry about this. But if you encounter a new type of document
or wish to specify special handling for styles or mathematics you may
have to edit the semantic-action file or send it to the maintainer for
editing. In any case the rest of this section is essential for
understanding how liblouisxml handles documents and for making changes
if the way it does so is not correct.

   <p>After another blank line you will see a table consisting of two, and
sometimes three, columns. The first column contains a word which tells
the computer to do something. For example, the first entry in the
table is: &lsquo;<samp><span class="samp">include nemeth.sem</span></samp>&rsquo;. This tells liblouisxml to include
the information in the <samp><span class="file">nemeth.sem</span></samp> file when it is deciphering
an html (actually xhtml) document (it may be preferable to use the
semanticFiles setting in the configuration file rather than an
include).

   <p>The second row of the table is:

<pre class="example">     no hr
</pre>
   <p>&lsquo;<samp><span class="samp">hr</span></samp>&rsquo; is an element with the angle brackets removed. It means
nothing in itself. However, the first column contains the word
&lsquo;<samp><span class="samp">no</span></samp>&rsquo;. This tells liblouisxml "no do", that is, do nothing. This is
not strictly true, since liblouisxml will sometimes insert a blank space
so that words in text do not run together.

   <p>After a few more lines with &lsquo;<samp><span class="samp">no</span></samp>&rsquo; in the first column, we see one
that says:

<pre class="example">     softreturn br
</pre>
   <p>This means that when the element <code>&lt;br&gt;</code> is encountered,
liblouisxml is to do a soft return, that is, start a new line without
starting a new paragraph.

   <p>The next line says:

<pre class="example">     heading1 h1
</pre>
   <p>This tells liblouisxml that when it encounters the element <code>&lt;h1&gt;</code>
it is to format the text which follows as a first-level braille
heading, that is, the text will be centered and preceeded and followed
by blank lines. (You can change this by changing the definition of the
heading1 style).

   <p>The next line says:

<pre class="example">     italicx em
</pre>
   <p>This tells liblouisxml that when it encounters the element <code>&lt;em&gt;</code>
it is to enclose the text which follows in braille italic indicators. 
The &lsquo;<samp><span class="samp">x</span></samp>&rsquo; at the end of the semantic action name is there to
prevent conflicts with names elsewhere in the software. Just where the
italic indicators will be placed is controlled by the liblouis
translation table in use.

   <p>The next line says:

<pre class="example">     skip style
</pre>
   <p>This tells liblouis to simply skip ahead until it encounters the
element <code>&lt;/style&gt;</code>. Nothing in between will have any effect on
the braille output. Note the slash (&lsquo;<samp><span class="samp">/</span></samp>&rsquo;) before the &lsquo;<samp><span class="samp">style</span></samp>&rsquo;. 
This means the end of whatever the <code>&lt;style&gt;</code> element was
referring to. Actually, it was referring to specifications of how
things should be printed. If liblouisxml had not been told to skip
these specifications, the braille output would have contained a lot of
gobledygook.

   <p>The next line says:

<pre class="example">     italicx strong
</pre>
   <p>This tells liblouis to also use the italic braille indicators for the
text between the <code>&lt;strong&gt;</code> and <code>&lt;/strong&gt;</code> elements.

   <p>After a few more lines with &lsquo;<samp><span class="samp">no</span></samp>&rsquo; in the first column we come to
the line:

<pre class="example">     document html
</pre>
   <p>This tells liblouisxml that everything between <code>&lt;html&gt;</code> and
<code>&lt;/html&gt;</code> is an entire document. <code>&lt;html&gt;</code> was the root
element of this document, so this is logical.

   <p>After another &lsquo;<samp><span class="samp">no</span></samp>&rsquo; line we come to:

<pre class="example">     para p
</pre>
   <p>liblouisxml will consider everything between <code>&lt;p&gt;</code> and
<code>&lt;/p&gt;</code> to be a normal body text paragraph.

   <p>The next line is:

<pre class="example">     heading1 title
</pre>
   <p>this causes the title of the document to also be treated as a braille
level 1 heading.

   <p>Next we have the line:

<pre class="example">     list li
</pre>
   <p>The xhtml <code>&lt;li&gt;</code> and <code>&lt;/li&gt;</code> pair of elements is used to
enclose an item in a list. liblouisxml will format this with its own
list style. That is, the first line will begin at the left margin and
subsequent lines will be indented two cells.

   <p>Next we have:

<pre class="example">     table table
</pre>
   <p>You will note that the names of actions and elements are often
identical. This is because they are both mnemonic. In any case, this
line tells liblouisxml to format the table contained in the xhtml
document according to the table formatting rules it has been given for
braille output.

   <p>Next we have the line:

<pre class="example">     heading2 h2
</pre>
   <p>This means that the text between <code>&lt;h2&gt;</code> and <code>&lt;/h2&gt;</code> is to be
formatted according to the Liblouisxml style heading2. A blank line
will be left before the heading and the first line will be indented
four spaces.

   <p>After a few more lines we come to:

<pre class="example">     no table,cellpadding
</pre>
   <p>Note the comma in the second column. This divides the column into two
subcolumns. The first is the table element name. The second is called
an "attribute" in xml. It gives further instructions about the
material enclosed between the starting and ending "tags" of the
element (<code>&lt;table&gt;</code> and <code>&lt;/table&gt;</code>. Full information requires
three subcolumns. The third is called the value and gives the actual
information. The attribute is merely the name of the information.

   <p>Much further down we find:

<pre class="example">     no table,border,0
</pre>
   <p>Here the element is table, the attribute is border and the value is 0. 
If liblouisxml were to interpret this, it would mean that the table
was to have a border of 0 width. It is not told to do so because
tables in braille do not have borders.

   <p>Now let's look at the file which is included at the beginning of the
<samp><span class="file">html.sem</span></samp> file. This is <samp><span class="file">nemeth.sem</span></samp>. As with
<samp><span class="file">html.sem</span></samp>, a copy is included in the appendix
(see <a href="#nemeth_002esem">nemeth.sem</a>), but it is not necessarily the one that
liblouisxml is currently using. It illustrates several more things
about how liblouisxml uses semantic-action files.

   <p>The first thing you will notice is that for quite a few lines the
first and second columns are identical. This is because the MathML
element and attribute names are part of a standard, and it was
simplest to use the element names for the semantic actions as well. Most
of these actions do not do anything and could be replaced with the
<code>generic</code> semantic action. They are retained for backward
compatibility.

   <p>The first line of real interest is:

<pre class="example">     math math
</pre>
   <p>Every mathematical expression begins with the element <code>&lt;math&gt;</code>
(which may have attributes and values), and ends with <code>&lt;/math&gt;</code>. 
This is therefore the root element of a mathematical expression. 
However, mathematical expressions are usually part of a document, so
it is not given the semantic action document. The math semantic action
causes liblouisxml to carry out special interpretation actions. These
will become clearer as we continue to look at the <samp><span class="file">nemeth.sem</span></samp>
file. You will note that this line has three columns. The meaning of
the third column is discussed below.

   <p>After another uninteresting line we come to two that illustrate
several more facts about semantic-action files:

<pre class="example">     mfrac mfrac ^?,/,^#
     mfrac mfrac,linethickness,0 ^(,^;%,^)
</pre>
   <p>Like the math entry above, the first line has three columns. While the
first two columns must always be present, the third column is
optional. Here, it is also divided into subcolumns by commas. The
element <code>&lt;mfrac&gt;</code> indicates a fraction. A fraction has two parts,
a numerator and a denominator. In xml, we call these parts children of
<code>&lt;mfrac&gt;</code>. They may be represented in various ways, which need
not concern us here. What is of real importance is that the third
column tells liblouisxml to put the characters &lsquo;<samp><span class="samp">~?</span></samp>&rsquo; before the
numerator, &lsquo;<samp><span class="samp">/</span></samp>&rsquo; between the numerator and denominator, and
&lsquo;<samp><span class="samp">~#</span></samp>&rsquo; after the denominator. Later on, liblouis will translate
these characters into the proper representation of a fraction in the
Nemeth Code of Braille Mathematics. (For other mathematical codes,
see <a href="#Implementing-Braille-Mathematics-Codes">Implementing Braille Mathematics Codes</a>).

   <p>The second line is of even greater interest. The first column is again
&lsquo;<samp><span class="samp">mfrac</span></samp>&rsquo;, but this line is for binomial coefficient. The second
column contains three subcolumns, an element name, an attribute name
and an attribute value. The attribute linethickness specifies the
thickness of the line separating the numerator and denominator. Here
it is 0, so there is no line. This is how the binomial coefficient is
represented in print. The third column tells how to represent it in
braille. liblouisxml will supply &lsquo;<samp><span class="samp">~(</span></samp>&rsquo;, upper number, &lsquo;<samp><span class="samp">~%</span></samp>&rsquo;,
lower number, &lsquo;<samp><span class="samp">~)</span></samp>&rsquo; to liblouis, which will then produce the
proper braille representation for the binomial coefficient.

   <p>Returning to the line for the math element, we see that the third
column begins with a backslash followed by an asterisk. The backslash
is an escape character which gives a special meaning to the character
which follows it. Here the asterisk means that what follows is to be
placed at the very end of the mathematical expression, no matter how
complex it is.

   <p>For further discussion of how the third column is used
see <a href="#Implementing-Braille-Mathematics-Codes">Implementing Braille Mathematics Codes</a>. The third column is
not limited to mathematics. It can be used to add characters to
anything enclosed by an xml tag.

<p><a name="Semantic-Actions-in-detail"></a>

<h3 class="section">4.2 Semantic Actions in detail</h3>

<p>Here is a complete list of the semantic actions which liblouisxml
recognizes. Some of them are also the names of styles. These are listed
in the first table. For a discussion of these, see <a href="#Customization-Configuring-liblouisxml">Customization Configuring liblouisxml</a>.

   <p>Generally the format of a semantic action is:

<pre class="example">     semanticAction elementSpecifier optionalArguments
</pre>
   <p><code>elementSpecifier</code> is the second-column value, which may be an
element name, an element-attribute pair or an element-attribute-value
triplet, separated by commas. This specifies where a semantic action
is to be applied. If it is solely an element then the action is
applied if this element is encountered. If it is an element-attribute
pair then the action is applied if the given element also has the
specified attribute. In the last case with a element-attribute-value
triplet the action is only applied if the element has the specified
attribute and the value of this attribute is equal to the specified
value.

     
<a name="index-contenss1-79"></a>
<dl><a name="contenss1-semantic"></a><dt><code>contenss1 elementSpecifier</code><dd>

     <p>Note that the <code>contenss1</code>, etc. semantic actions are never
assigned an
actual <code>elementSpecifier</code>. There used internally by the table of
contents generator. They should be assigned style settings, however.

     <p><a name="index-contenss2-80"></a><a name="contenss2-semantic"></a><br><dt><code>contenss2 elementSpecifier</code><dd>

     <p><a name="index-contenss3-81"></a><a name="contenss3-semantic"></a><br><dt><code>contenss3 elementSpecifier</code><dd>

     <p><a name="index-contenss4-82"></a><a name="contenss4-semantic"></a><br><dt><code>contenss4 elementSpecifier</code><dd>

     <p><a name="index-contentsheader-83"></a><a name="contentsheader-semantic"></a><br><dt><code>contentsheader elementSpecifier</code><dd>

     <p>This semantic action must be assigned an element specifier if used. See
the discussion of it in the section on styles.

     <p><a name="index-document-84"></a><a name="document-semantic"></a><br><dt><code>document elementSpecifier</code><dd>

     <p><a name="index-heading1-85"></a><a name="heading1-semantic"></a><br><dt><code>heading1 elementSpecifier</code><dd>

     <p><a name="index-heading2-86"></a><a name="heading2-semantic"></a><br><dt><code>heading2 elementSpecifier</code><dd>

     <p><a name="index-heading3-87"></a><a name="heading3-semantic"></a><br><dt><code>heading3 elementSpecifier</code><dd>

     <p><a name="index-heading4-88"></a><a name="heading4-semantic"></a><br><dt><code>heading4 elementSpecifier</code><dd>

     <p><a name="index-para-89"></a><a name="para-semantic"></a><br><dt><code>para elementSpecifier</code><dd>

   </dl>

   <p>The following table expbains each of the non-style semantic actions. In
general, each one performs a particular function. If a third column is
given, the subcolumns will be inserted in order before each branch of
any subtree starting from <code>elementSpecifier</code>.

     
<a name="index-blankline-90"></a>
<dl><a name="blankline-semantic"></a><dt><code>blankline elementSpecifier</code><dd>

     <p>This semantic action causes a blank line to appear in the output
wherever it may occur. It is useful for fine formatting independent of
styles. <code>elementSpecifier</code> should be an empty element, that is, of
the form <code>&lt;elementSpecifier/&gt;</code>. If it is not, any content which it
may contain will be ignored.

     <p><a name="index-boldx-91"></a><a name="boldx-semantic"></a><br><dt><code>boldx elementSpecifier</code><dd>

     <p>Enclose the text which follows in braille bold indicators. The &lsquo;<samp><span class="samp">x</span></samp>&rsquo;
at the end of the semantic action name is there to prevent conflicts
with names elsewhere in the software. Just where the bold indicators
will be placed is controlled by the liblouis translation table in use.

     <p><a name="index-boxline-92"></a><a name="boxline-semantic"></a><br><dt><code>boxline elementSpecifier character</code><dd>

     <p>A line consisting entirely of the character in the third column is
placed in the output. If the third column is blank this semantic action
does nothing. It is typically used to form the top and bottom lines of
"boxed" material. The character must be chosen to produce the desired
dot pattern on the embosser or display in use.

     <p><a name="index-chemistry-93"></a><a name="chemistry-semantic"></a><br><dt><code>chemistry elementSpecifier</code><dd>

     <p>When a module to handle chemical notation is ready, this semantic action
will invoke it. The processing will be like that produced by the
semantic
action <code>math</code>.

     <p><a name="index-changetable-94"></a><a name="changetable-semantic"></a><br><dt><code>changetable elementSpecifier</code><dd>

     <p>This semantic action is used to change the active translation table. It
can switch to a table for another language or to a table for computer
braille in a mathematical expression, etc. <code>elementSpecifier</code> is in
the form <code>element,attribute</code>. The document contains something like:

     <pre class="example">          &lt;span lang="en-us-g1.ctb"&gt;
          This is uncontracted.
          &lt;/span&gt;
</pre>
     <p>The specified table remains in effect from
<code>&lt;element attribute="tablename"&gt;</code> until <code>&lt;/element&gt;</code>, no
matter what is
between the two. The previous table is then restored.

     <p><a name="index-compbrl-95"></a><a name="compbrl-semantic"></a><br><dt><code>compbrl elementSpecifier</code><dd>

     <p>The material between <code>elementSpecifier</code> and
<code>/elementSpecifier</code> is translated as computer braille, if the
liblouis table in use phovides for it. Beginning and ending computer
braille indicators are inserted if they are in the table.

     <p><a name="index-configfile-96"></a><a name="configfile-semantic"></a><br><dt><code>configfile elementSpecifier filename</code><dd>

     <p>The <code>configfile</code>, <code>configstring</code> and <code>configtweak</code>
semantic actions enable the configuration of liblouisxml to be changed
according to the contents of the document being transcribed. 
<code>configfile</code> and <code>configstring</code> take effect during the
document analysis phase performed by <samp><span class="file">examine_document.c</span></samp>. 
<code>configtweak</code> is effective during the transcription phase,
performed by <samp><span class="file">transcribe_document.c</span></samp> and the functions called in
this module.

     <p><code>elementSpecifier</code> is the usual second-column value, which may be
an element name, an element-attribute pair or an
element-attribute-value triplet, separated by commas. <code>filename</code>
must be on one of the paths set in the <samp><span class="file">paths.c</span></samp> module. The file
may contain any configuration settings except those in the xml
section. These would be ineffective, since the document has already
been parsed.

     <p><a name="index-configstring-97"></a><a name="configstring-semantic"></a><br><dt><code>configstring elementSpecifier setting1=value1;setting2=value2;...</code><dd>

     <p>Note that the <code>setting=value</code> pairs are separated by semicolons. 
Because the string may be longer than a screen line, you can use a
backslash &lsquo;<samp><span class="samp">\</span></samp>&rsquo; followed immediately by a line ending &lsquo;<samp><span class="samp">\n</span></samp>&rsquo;, to
continue to another line. The string must not contain any blanks. Any
setting which can be specified in a file read with configfile can be
specified in <code>configstring</code>.

     <p><a name="index-configtweak-98"></a><a name="configtweak-semantic"></a><br><dt><code>configtweak elementSpecifier settings</code><dd>

     <p><code>configtweak</code> is identical to <code>configstring</code> except that it
is called in the transcription phase. It can be used for
things like changing translation tables. For example:

     <pre class="example">          configtweak elementSpecifier literaryTextTable=fooTable;\
          mathExprTable=barTable
</pre>
     <p><code>configtweak</code> is not a generalization of <code>changetable</code>. The
latter changes the active table and applies to a subtree. 
<code>configtweak</code> remains in effect until changed by another
<code>configtweak</code>.

     <p><a name="index-contracted-99"></a><a name="contracted-semantic"></a><br><dt><code>contracted elementSpecifier</code><dd>

     <p><a name="index-footer-100"></a><a name="footer-semantic"></a><br><dt><code>footer elementSpecifier</code><dd>

     <p>This semantic action is used to specify a footer which will be placed at
the bottom of each page.

     <pre class="example">          &lt;elemntSpecifier&gt;This is a footer&lt;/elementSpecifier&gt;
</pre>
     <p><a name="index-generic-101"></a><a name="generic-semantic"></a><br><dt><code>generic elementSpecifier</code><dd>

     <p>This is a general-purpose semantic action. If the third column is blank
it does absolutely nothing. If the third column contains a string or
subcolumns its contents are placed in the output according to the usual
rules. That is, the first subcolumn is placed before the first branch of
the subtree rooted at this node, the second is placed before the second
branch, etc. If the last (or only) subcolumn begins with <code>\*</code> it is
placed after the last branch, no matter how many branches there may be.

     <p><a name="index-graphic-102"></a><a name="graphic-semantic"></a><br><dt><code>graphic elementSpecifier</code><dd>

     <p>When a module which can handle SVG graphics is ready this semantic
action will invoke it.

     <p><a name="index-htmllink-103"></a><a name="htmllink-semantic"></a><br><dt><code>htmllink elementSpecifier</code><dd>

     <p>This semantic action is used when the configuration file specifies
<code>formatFor browser</code>. It sets up a link which the browser can
follow.

     <p><a name="index-htmltarget-104"></a><a name="htmltarget-semantic"></a><br><dt><code>htmltarget elementSpecifier</code><dd>

     <p>This semantic action establishes a target for a link in the same file
when <code>formatFor browser</code> is specified in the configuration file.

     <p><a name="index-italicx-105"></a><a name="italicx-semantic"></a><br><dt><code>italicx elementSpecifier</code><dd>

     <p>Enclose the text which follows in braille italic indicators. 
The &lsquo;<samp><span class="samp">x</span></samp>&rsquo; at the end of the semantic action name is there to
prevent conflicts with names elsewhere in the software. Just where the
italic indicators will be placed is controlled by the liblouis
translation table in use.

     <p><a name="index-linespacing-106"></a><a name="linespacing-semantic"></a><br><dt><code>linespacing elementSpecifier digit</code><dd>

     <p>This semantic action specifies the numbr of blank lines to be left
between adjacent lines in the output. For example if the third column is
&lsquo;<samp><span class="samp">1</span></samp>&rsquo;, lines will be double-spaced. &lsquo;<samp><span class="samp">0</span></samp>&rsquo; specifies normal
spacing. The number cannot be greater than &lsquo;<samp><span class="samp">3</span></samp>&rsquo;. <code>linespacing</code>
remains in effect until another <code>linespacing</code> is encountered. It
should be assigned to an empty element.

     <p><a name="index-maction-107"></a><a name="maction-semantic"></a><br><dt><code>maction elementSpecifier</code><dd>

     <p>In the early stages of development I thought that a separate piece of
code might be needed for each of the MathML element tags. It turned out,
as noted elsewhere, that most of them could have been handled with the
<code>generic</code> semantic action. They are retained for backward
compatibi2ity. Therefore, unless this is not the case or additional
information is needed, they are simlly listed.

     <p><a name="index-maligngroup-108"></a><a name="maligngroup-semantic"></a><br><dt><code>maligngroup elementSpecifier</code><dd>

     <p><a name="index-malignmark-109"></a><a name="malignmark-semantic"></a><br><dt><code>malignmark elementSpecifier</code><dd>

     <p><a name="index-math-110"></a><a name="math-semantic"></a><br><dt><code>math elementSpecifier</code><dd>

     <p>Every mathematical expression begins with the element
<code>&lt;elementSpecifier&gt;</code> <code>math</code> (which may have attributes and
values), and ends with <code>&lt;/elementSpecifier&gt;</code> (<code>/math</code>). This
is therefore the root element of a mathematical expression. However,
mathematical expressions are usually part of a document, so it is not
given the semantic action document. liblouisxml will, however, handle
files and strings which consist of nothing but a mathematical expression
properly. The <code>math</code> semantic action causes liblouisxml to carry
out special interpretation actions.

     <p><a name="index-menclose-111"></a><a name="menclose-semantic"></a><br><dt><code>menclose elementSpecifier</code><dd>

     <p><a name="index-merror-112"></a><a name="merror-semantic"></a><br><dt><code>merror elementSpecifier</code><dd>

     <p><a name="index-mfenced-113"></a><a name="mfenced-semantic"></a><br><dt><code>mfenced elementSpecifier</code><dd>

     <p><a name="index-mfrac-114"></a><a name="mfrac-semantic"></a><br><dt><code>mfrac elementSpecifier</code><dd>

     <p><a name="index-mglyph-115"></a><a name="mglyph-semantic"></a><br><dt><code>mglyph elementSpecifier</code><dd>

     <p><a name="index-mi-116"></a><a name="mi-semantic"></a><br><dt><code>mi elementSpecifier</code><dd>

     <p><a name="index-mlabeledtr-117"></a><a name="mlabeledtr-semantic"></a><br><dt><code>mlabeledtr elementSpecifier</code><dd>

     <p><a name="index-mmultiscripts-118"></a><a name="mmultiscripts-semantic"></a><br><dt><code>mmultiscripts elementSpecifier</code><dd>

     <p><a name="index-mn-119"></a><a name="mn-semantic"></a><br><dt><code>mn elementSpecifier</code><dd>

     <p><a name="index-mo-120"></a><a name="mo-semantic"></a><br><dt><code>mo elementSpecifier</code><dd>

     <p><a name="index-mover-121"></a><a name="mover-semantic"></a><br><dt><code>mover elementSpecifier</code><dd>

     <p><a name="index-mpadded-122"></a><a name="mpadded-semantic"></a><br><dt><code>mpadded elementSpecifier</code><dd>

     <p><a name="index-mphantom-123"></a><a name="mphantom-semantic"></a><br><dt><code>mphantom elementSpecifier</code><dd>

     <p><a name="index-mprescripts-124"></a><a name="mprescripts-semantic"></a><br><dt><code>mprescripts elementSpecifier</code><dd>

     <p><a name="index-mroot-125"></a><a name="mroot-semantic"></a><br><dt><code>mroot elementSpecifier</code><dd>

     <p>The MathML element <code>mroot</code> is actually given the semantic action
<code>reverse</code>.

     <p><a name="index-mrow-126"></a><a name="mrow-semantic"></a><br><dt><code>mrow elementSpecifier</code><dd>

     <p>This can be important in implementing Math codes because it is often
used to create visual groups, which may be significant for braille.

     <p><a name="index-ms-127"></a><a name="ms-semantic"></a><br><dt><code>ms elementSpecifier</code><dd>

     <p><a name="index-mspace-128"></a><a name="mspace-semantic"></a><br><dt><code>mspace elementSpecifier</code><dd>

     <p>This element and its attributes can be helpful for determining spacing.

     <p><a name="index-msqrt-129"></a><a name="msqrt-semantic"></a><br><dt><code>msqrt elementSpecifier</code><dd>

     <p><a name="index-mstyle-130"></a><a name="mstyle-semantic"></a><br><dt><code>mstyle elementSpecifier</code><dd>

     <p>This MathML element should usually have the semantic action <code>skip</code>.

     <p><a name="index-msub-131"></a><a name="msub-semantic"></a><br><dt><code>msub elementSpecifier</code><dd>

     <p><a name="index-msubsup-132"></a><a name="msubsup-semantic"></a><br><dt><code>msubsup elementSpecifier</code><dd>

     <p><a name="index-msup-133"></a><a name="msup-semantic"></a><br><dt><code>msup elementSpecifier</code><dd>

     <p><a name="index-mtable-134"></a><a name="mtable-semantic"></a><br><dt><code>mtable elementSpecifier</code><dd>

     <p>The file <samp><span class="file">canonical.cfg</span></samp> defines the style <code>matrix</code>. The
semantic-action files for math codes declare <code>mtable</code> to be
<code>matrix</code>. Depending on the attributes of this element, it can be
set to other styles, such as long division. The <code>matrix</code> style
contains the setting <code>format alignColumnsLeft</code>.

     <p><a name="index-mtd-135"></a><a name="mtd-semantic"></a><br><dt><code>mtd elementSpecifier</code><dd>

     <p>This element specifies a column in a mathematical table. For the style
<code>matrix</code> the third column of the entry in a semantic-action file
must contain <code>\*|ec</code>. This indicates the end of the column. Other
specifications using the liblouis <code>exactdots</code> feature may also be
necessary.

     <p><a name="index-mtext-136"></a><a name="mtext-semantic"></a><br><dt><code>mtext elementSpecifier</code><dd>

     <p><a name="index-mtr-137"></a><a name="mtr-semantic"></a><br><dt><code>mtr elementSpecifier</code><dd>

     <p>This element specifies a row in a mathematical table. The entry in a
semantic-action file must contain <code>\*\er</code> in the third column for
the <code>matrix</code> style, indicating the end of the row. Other things may
also need to be specified using the liblouis <code>exactdots</code> feature. 
Note that rows are not declared as styles nested inside the
<code>matrix</code> style. This is because the table must be considered as a
whole.

     <p><a name="index-munder-138"></a><a name="munder-semantic"></a><br><dt><code>munder elementSpecifier</code><dd>

     <p><a name="index-munderover-139"></a><a name="munderover-semantic"></a><br><dt><code>munderover elementSpecifier</code><dd>

     <p><a name="index-music-140"></a><a name="music-semantic"></a><br><dt><code>music elementSpecifier</code><dd>

     <p>When a module which can interpret MusicML and produce braille music
notation is ready this semantic action will invoke it.

     <p><a name="index-newpage-141"></a><a name="newpage-semantic"></a><br><dt><code>newpage elementSpecifier</code><dd>

     <p>This semantic action causes the rest of the current page to be left
blank except for page numbers and footers. A new page is then begun. 
Like <code>blankline</code>, it is useful for fine formatting independent of
styles.

     <p><a name="index-no-142"></a><a name="no-semantic"></a><br><dt><code>no elementSpecifier</code><dd>

     <p>Originally, this semantic action was intended to be the default and to
do nothing when an <code>elementSpecifier</code> had no meaning for braille
translation. Later it was found that it should insert a blank space if
parts of the text would run together, so this is now its action.

     <p><a name="index-none-143"></a><a name="none-semantic"></a><br><dt><code>none elementSpecifier</code><dd>

     <p>This is a MathML element.

     <p><a name="index-notranslate-144"></a><a name="notranslate-semantic"></a><br><dt><code>notranslate elementSpecifier</code><dd>

     <p>Output the text between the start and end tags exactly as written. It
will, however, be formatted with appropriate line breaks, page numbers
etc. If you want to make sure that things appear on the same line
separate them with an unbreakable space, &lsquo;<samp><span class="samp">&amp;#160;</span></samp>&rsquo; or
&lsquo;<samp><span class="samp">&amp;#xa0;</span></samp>&rsquo;.

     <p><a name="index-pagenum-145"></a><a name="pagenum-semantic"></a><br><dt><code>pagenum elementSpecifier</code><dd>

     <p>The text between <code>&lt;elementSpecifier&gt;</code> and <code>&lt;/elementSpecifier&gt;</code>
is taken to be a print page number. If it does not begin with a digit
the string <code>\_</code> is placed before it. It is then passed to liblouis
for translation according to the active table. This table must contain
an entry for translating <code>\_</code> into a letter sign or whatever else
is wanted. This string is inserted so that roman page numbers will be
handled properly. Unnumbered page breaks are indicated with an empty
pagenum tag: <code>&lt;elementSpecifier&gt;&lt;/elementSpecifier&gt;</code>.

     <p><a name="index-reverse-146"></a><a name="reverse-semantic"></a><br><dt><code>reverse elementSpecifier</code><dd>

     <p>The branches of the subtree rooted at this node are reversed in order. 
This is used in handling roots, where the arguments in the translation
are in reverse order to those in MathML. the MathML elemnt <code>mroot</code>
is declared with this semantic action

     <p><a name="index-righthandpage-147"></a><a name="righthandpage-semantic"></a><br><dt><code>righthandpage elementSpecifier</code><dd>

     <p>If <code>interpoint yes</code> has been specified in the configuration file,
and the current page is a right-hand one, the lest of the page is
skipped except for footer and page number. the following left-hand page
is similarly skipped. Otherwise, the action is the same as
<code>newpage</code>.

     <p><a name="index-runninghead-148"></a><a name="runninghead-semantic"></a><br><dt><code>runninghead elementSpecifier</code><dd>

     <p>This semantic action is used to specify a running header, such as a book
title, to be placed at the top of each page. If the header is too long
it will be truncated.

     <pre class="example">          &lt;elementSpecifier&gt;liblouisxml Manual&lt;/elementSpecifier&gt;
</pre>
     <p><a name="index-semantics-149"></a><a name="semantics-semantic"></a><br><dt><code>semantics elementSpecifier</code><dd>

     <p>This is a MathML action which seems to be irrelevant to braille
translation.

     <p><a name="index-skip-150"></a><a name="skip-semantic"></a><br><dt><code>skip elementSpecifier</code><dd>

     <p>Skip ahead until encountering the element <code>&lt;/elementSpecifier&gt;</code>. 
Nothing
in between will have any effect on the braille output.

     <p><a name="index-softreturn-151"></a><a name="softreturn-semantic"></a><br><dt><code>softreturn elementSpecifier</code><dd>
Do a soft return, that is, start a new line without starting a new
paragraph. <code>elementSpecifier</code> should be empty, for example,
<code>&lt;br/&gt;</code>.

     <p><a name="index-uncontracted-152"></a><a name="uncontracted-semantic"></a><br><dt><code>uncontracted elementSpecifier</code><dd>

     <p>This semantic action seems superfluous and may be eliminated in the
future.

   </dl>

<p><a name="Pseudo-actions"></a>
<a name="Pseudo_002dactions"></a>

<h3 class="section">4.3 Pseudo-actions</h3>

<p>These actions affect the processing of semantic-action files. They are
not connected with any tag in the document. They are executed when they
are encountered in the processing of semantic-action files.

<h4 class="subsection">4.3.1 include</h4>

<pre class="example">     include filename
</pre>
   <p>filename must be the name of a semantic action file. The file is
compiled as though it were part of the file containing the
<code>include</code> entry. Included files may include other files.

<h4 class="subsection">4.3.2 newentries</h4>

<pre class="example">     newentries no
</pre>
   <p>The second column in this entry must contain &lsquo;<samp><span class="samp">no</span></samp>&rsquo;. Any new entries
found in the document will be ignored. No &lsquo;<samp><span class="samp">appended_</span></samp>&rsquo; file will be
produced. This affects only documents processed with this
semantic-action file. The configuration setting <code>newEntries</code>
affects all documents.

<h4 class="subsection">4.3.3 namespaces</h4>

<pre class="example">     namespaces dtb=http://www.daisy.org/z3986/2005/dtbook/
</pre>
   <p>This pseudo-action is used to declare namespaces used in XPath
expressions. (See following section). The format is &lsquo;<samp><span class="samp">namespaces
prefix1=url1,prefix2=url2,...</span></samp>&rsquo;. The list of namespaces may not contain
blanks.

<p><a name="Using-XPath-Expressions"></a>

<h3 class="section">4.4 Using XPath Expressions</h3>

<pre class="example">     para &amp;xpath(h4)
</pre>
   <p>This example causes any element with the name &lsquo;<samp><span class="samp">h4</span></samp>&rsquo; to be given the
semantic action <code>para</code>, no matter what other assignments may be
made to it. In general, XPath expressions are entered in the second
column with the syntax <code>&amp;xpath(...)</code>. That is, the XPath
expression is placed within parentheses following <code>&amp;xpath</code>. It may
contain parentheses itself, as long as they match. The third column may
contain arguments, as with any line in a semantic-action file. XPath
expressions are not processed in any particular order. Care should be
taken that the node sets which they find do not overlap. If a node is in
a node set found by a particular XPath expression it will be given the
semantic-action and arguments associated with that expression. This will
not be changed subsequently.

   <p>The &lsquo;<samp><span class="samp">&amp;funcname(...)</span></samp>&rsquo; notation may be used for other features, such
as XPointer, in the future.

<p><a name="Special-Features"></a>

<h2 class="chapter">5 Special Features</h2>

<p><a name="Table-of-contents"></a>

<h3 class="section">5.1 Table of contents</h3>

<p>A table of contents is produced for an xml file if the file contains a
tag which has been defined with the <code>contentsheader</code> semantic action (see <a href="#contentsheader-semantic">contentsheader</a>) and
also tags for the <code>heading1</code>, <code>heading2</code>, <code>heading3</code> or
<code>heading4</code> semantic actions (see <a href="#heading1-semantic">heading1</a>). The table of contents will
contain print and braille page numbers if these features have been
enabled. A sequence of fill characters will be inserted before the
page numbers, so that the latter are at the right margin. The fill
character can be specified in a configuration file with the
<code>lineFill</code> setting (see <a href="#lineFill-setting">lineFill</a>). The default fill character is an apostrophe
(dot 3).

   <p>Five new styles have been defined for the table of contents. The first
is the <code>contentsheader</code> style (see <a href="#contentsheader-style">contentsheader style</a>), which
is used to specify where the table of contents should be placed and the
title that should be given to it. In the latter respect it is much like
a heading style. The others correspond to the four heading levels and
are <code>contents1</code>, <code>contents2</code>, <code>contents3</code> and
<code>contents4</code>. These styles are chosen as appropriate while the table
of contents is being made. Do not declare them in a semantic-action
file. See the <samp><span class="file">canonical.cfg</span></samp> file for the current default
definitions of all these styles.

   <p>The table of contents will be placed where the xml tag is that you
declared in the <code>contentsheader</code> semantic action (see <a href="#contentsheader-semantic">contentsheader</a>). Its title will be whatever
is inside that tag, formatted according to the definition of the
<code>contentsheader</code> style. It begins on a new page. After it is
completed the braille page number is reset to
<code>beginningBraillePageNumber</code> and another new page is started. This
means that the xml tag with the <code>contentsheader</code> semantic action
should occur at the end of the information which you want to be at the
head of the output, such as a title page, dedication, etc.

   <p>It is not necessary that an xml file contain a tag with the
<code>contentsheader</code> semantic action. If the file contains headers
you can obtain a table of contents by specifying <code>contents yes</code>
in a configuration file or <samp><span class="option">-Ccontents=yes</span></samp> on the command line
of <samp><span class="command">xml2brl</span></samp>. In this case, the table of contents will appear
at the beginning of the output. Pages will be numbered beginning with
1. When the table of contents is complete, the material in the file
will start on a new page and the page number will be the value given
in <code>beginningBraillePageNumber</code>.

   <p>The <code>contents1</code>, etc. styles all have the <code>format contents</code>
setting. This is a variant of the <code>leftJustified</code> format. It has
been necessary to change the way <code>firstLineIndent</code> is handled to
accommodate multilevel lists. Up till now, if <code>firstLineIndent</code>
was negative, the first line would start at the real left margin,
regardless of the value of <code>leftMargin</code>. Now the value of
<code>firstLineIndent</code> is simply added to <code>leftMargin</code>. This
means that if it is negative it is really subtracted. For example, if
<code>leftMargin</code> is 4 and <code>firstLineIndent</code> is -2 the first line
will start in cell 2. If the result of adding these two values is
negative it is set to 0.

<p><a name="Back-translation"></a>
<a name="Back_002dtranslation"></a>

<h3 class="section">5.2 Back-translation</h3>

<pre class="example">     xml2brl -b infile outfile
</pre>
   <p>infile must be a braille file. It can have either upper-case or
lower-case letters, etc. outfile will contain the back-translation
according to the configuration specifications. It can be in two
formats according to the value of <code>backFormat</code>. &lsquo;<samp><span class="samp">ascii</span></samp>&rsquo;
produces plain text output. The lines will generally correspond to the
lines in the original braille file. &lsquo;<samp><span class="samp">html</span></samp>&rsquo; produces a file in
xhtml format. This is recommended, since it preserves print page
numbers, if present and some of the formatting of the original. It can
also be loaded into a browser or word processor, which will format it
for good readability. Note that for html format to work your liblouis
table must contain the following line:

<pre class="example">     space \x001b 1b escape character
</pre>
   <p>To perform the back-translation operation, <samp><span class="command">xml2brl</span></samp> uses the
liblouisxml function <code>lbx_backTranslateFile</code>.

<p><a name="Reformatting"></a>

<h3 class="section">5.3 Reformatting</h3>

<pre class="example">     xml2brl -r infile outfile
</pre>
   <p>As in the previous section, infile must be a braille file. It is
back-translated and then forward-translated to produce a braille file in
outfile which conforms to configuration specifications. It is useful for
changing the line length and page length of a braille file. New braille
page numbers will be generated if <code>braillePages yes</code> is specified. 
If <code>backFormat html</code> has been specified, print page numbers will be
reproduced in the appropriate places. Some formatting may be lost.

<p><a name="Interlining"></a>

<h3 class="section">5.4 Interlining</h3>

<p>Interlining means printing the original text between the lines of
translated braille. It requires special embossers or special methods. 
The present way in which liblouisxml produces interlining relies on
back-translation. However, it is inadequate for mathematics and depends
too much on the quality of the liblouis tables. It is scheduled to be
replaced, so you should not use it.

<p><a name="Browser-Friendly-Output"></a>
<a name="Browser_002dFriendly-Output"></a>

<h3 class="section">5.5 Browser-Friendly Output</h3>

<pre class="example">     xml2brl infile outfile -CformatFor=browser
</pre>
   <p>infile can be any of the file types accepted by <samp><span class="command">xml2brl</span></samp> (xml,
html or text). If it contains html links or targets they will be
formatted so that a browser can use them. This may be useful if a file
contains internal links to different sections, such as its own table of
contents. Text will be translated and formatted according to
configuration specifications. If the file contains mathematics expressed
as MathML it will be translated according to the mathematics code
specified by the configuration. outfile should have the extension
&lsquo;<samp><span class="samp">.html</span></samp>&rsquo;. It will actually be xhtml. The <code>-CformatFor=browser</code>
part of the above example specifies a configuration setting, which of
course can also be specified in a configuration file.

<p><a name="CDATA-Sections"></a>

<h3 class="section">5.6 <code>CDATA</code> Sections</h3>

<p>A <code>cdata</code> section may be given the semantic actions <code>skip</code>,
<code>no</code> or <code>code</code>. In the first case, the data in the
<code>cdata</code> section is ignored. In the second case, it is inserted into
the output with no translation. In the third case it is translated into
computer braille and inserted into the output. Any other semantic action
has the same effect as <code>no</code>.

<p><a name="Special-Formats"></a>

<h2 class="chapter">6 Special Formats</h2>

<p><a name="Tables"></a>

<h3 class="section">6.1 Tables</h3>

<p>Various methods of handling tables can be devised. One that is in
current use requires the following lines in a semantic-action file:

<pre class="example">     list tr \*;
     generic td \*;\s
</pre>
   <p>The <code>list</code> style specifies that the first line should begin at the
left
margin and subsequent lines should be indented two spaces. The third
column specifies that a semicolon should be placed at the very end of
the row. The <code>generic</code> semantic action causes each column in the
table to be followed by a semicolon and a space, as specified in the
third column. your liblouis table must also contain the following line:

<pre class="example">     noback always ;\s; 0
</pre>
   <p><a name="Reserving-Space-for-Graphics"></a>

<h3 class="section">6.2 Reserving Space for Graphics</h3>

<p>Your configuration files should contain lines like these:

<pre class="example">     style graphspace
     rightHandPage yes
</pre>
   <p>In your semantic-action file you must assign a tag to this style. Note
that the semantic action <code>graphic</code> will invoke code to translate
SVG graphics when this feature is developed. You can nest various styles
within the &lsquo;<samp><span class="samp">graphspace</span></samp>&rsquo; style, such as a caption at the beginning. 
In particular, you should have another invocation of &lsquo;<samp><span class="samp">graphspace</span></samp>&rsquo;
at the end to skip to a new page, or the next right-hand page if you are
using interpoint.

<p><a name="Displayed-Text"></a>

<h3 class="section">6.3 Displayed Text</h3>

<p>Conventions for setting off a block of text from the rest vary. you may
wish to use the <code>quotation</code> style or devise a style of your own.

<p><a name="Displayed-Mathematics"></a>

<h3 class="section">6.4 Displayed Mathematics</h3>

<p>Again, conventions vary. you can define your own style for this purpose
and invoke it according to the attributes of the <code>math</code> tag.

<p><a name="Spatial-Layouts-in-Mathematics"></a>

<h3 class="section">6.5 Spatial Layouts in Mathematics</h3>

<p>This is also known as 2d mathematics. It spreads out complex fractions
and other materials for easier viewing. It is being developed based on
the specifications of MathML 3.

<p><a name="Arithmetic-Examples"></a>

<h3 class="section">6.6 Arithmetic Examples</h3>

<p>This is another format that is being developed using MathML 3. It is
difficult in earlier versions.

<p><a name="Poetry"></a>

<h3 class="section">6.7 Poetry</h3>

<p><samp><span class="file">canonical.cfg</span></samp> defines two styles which can be used to format
poetry, as follows:

<pre class="example">     style stanza
     linesBefore 1
     linesAfter 1
     ttyle line
     leftMargin 2
     firstLineIndent -2
</pre>
   <p>Your document might then contain the following from Samuel Taylor
Coleridge's "Rime of the Ancient Mariner":

<pre class="example">     &lt;stanza&gt;
     &lt;lino&gt;He holds him with his glittering eye&lt;/line&gt;
     &lt;line&gt;The wedding guest stands still&lt;/line&gt;
     &lt;line&gt;And listens like a three-years' child.&lt;/line&gt;
     &lt;line&gt;He has no force nor will.&lt;/line&gt;
     &lt;/stanza&gt;
</pre>
   <p>Note that when stanzas follow each other liblouisxml will produce only
one blank line between them, not two.

<p><a name="Dividing-a-Book-Into-Volumes"></a>

<h3 class="section">6.8 Dividing a Book Into Volumes</h3>

<p>Details are still under development. However, this much can be said. 
First, obtain a table of contents for the whole book. This requires that
your configuration files have the following settings:

<pre class="example">     contents yes
     braillePages yes
</pre>
   <p>This will tell you the approximate braille pages on which things will be
placed in the finished product. You can then calculate the number of
pages required for each chapter and how many chapters will fit in a
volume of your preferred size. From the point of view of the braille
reader, it is desirable to avoid splitting chapters between volumes.

   <p>At this point you will probably have to edit the source xml file to
indicate the beginning and end of volumes. You can define a liblouisxml
style called &lsquo;<samp><span class="samp">volume</span></samp>&rsquo; and assign appopriate xml tags to it in a
semantic-action file. Within the volume style you can nest a title page,
chapters, etc. A volume table of contents is still under development.

<p><a name="Implementing-Braille-Mathematics-Codes"></a>

<h2 class="chapter">7 Implementing Braille Mathematics Codes</h2>

<p>Much information useful in implementing braille mathematical codes is
given in the sections on styles and on semantic actions, especially in
the discussion of MathML semantic actions. The chapter on Special
Formats also contains much useful information.

   <p>The Nemeth Code of Braille Mathematical and Science Notation, BAUK maths
and Marburg Maths have been implemented. the Nemeth code was the first
and uses an implementation which is now obsolete. The discussion below
will concentrate on the implementation of BAUK Maths.

   <p>Four tables are used to translate xml documents containing a mixture of
text and mathematics. They can be found in the subdirectory
<samp><span class="file">lbx_files</span></samp> of the liblouisxml directory and in the <samp><span class="file">tables</span></samp>
subdirectory of the liblouis distribution. First, the semantic-action
file <samp><span class="file">ukmaths.sem</span></samp> is used to interpret the mathematical portions
of the xml document (The text portions are interpreted by another
semantic-action file which will not be discussed here). After the math
and text have been interpreted, two liblouis tables, <samp><span class="file">ukmaths.ctb</span></samp>
and <samp><span class="file">en-us-g2.ctb</span></samp> are used to translate them. The latter table may
be replaced by another table at the user's discretion. Each piece of
mathematics or text is translated separately and the pieces are strung
together with blanks between them. This results in inaccuracies where
mathematics meets text. The fourth table, also a liblouis table, is used
to remove these inaccuracies. It is called <samp><span class="file">ukmaths_edit.ctb</span></samp>, and
it does things like removing the multi-purpose indicator before a blank,
inserting the punctuation indicator before a punctuation mark following
a math expression, and removing extra spaces. This table may need
editing if a different text translation table is used.

   <p>The general format and use of semantic-action files were discussed in
the section see <a href="#Connecting-with-the-xml-Document">Connecting with the xml Document - Semantic-Action Files</a>. In this section we
shall concentrate on the optional third column, which is used a lot in
<samp><span class="file">ukmaths.sem</span></samp>. While the first two columns can be generated by
liblouisxml but must be edited by a person, the third column must
always be provided by a human.

   <p>As previously stated, the third column tells liblouisxml what
characters to insert to inform liblouis how to translate the math
expression. In fact, you can tell liblouis exactly what dots to insert. 
This relies on the liblouis opcode <code>exactdots</code>. If you look at the
file <samp><span class="file">example_ukmaths.ctb</span></samp> you will see lines like the following:

<pre class="example">     exactdots @126
     exactdots @345
     exactdots @123456
</pre>
   <p>This opcode has only a string operand. liblouis assumes that the
characters following the at sign are its dot pattern.

   <p>In your semantic-action file you might have lines like:

<pre class="example">     mfenced mfenced @126,@345
     mfenced mfenced,open,{ @246,@135
     mover mover ,@4-346,@12456
</pre>
   <p>By using this approach you do not have to remember which characters will
produce the desired dots in a particular liblouis table or on a
particular output device.

   <p>Sometimes an element or tag can have an indeterminate number of
children. This is true of <code>&lt;math&gt;</code> itself. Yet, it may be
necessary to place some characters after the very last element. Let us
look at the <code>&lt;math&gt;</code> entry.

<pre class="example">     math math \eb,\*\ee
</pre>
   <p>First let us discuss escape sequences starting with a backslash. These
are basically the same as in liblouis. The sequence &lsquo;<samp><span class="samp">\e</span></samp>&rsquo; is
shorthand for the escape character, which would otherwise be
represented by &lsquo;<samp><span class="samp">\x001b</span></samp>&rsquo;. The beginning of a math expression is
denoted by an escape character followed by the letter b and the end by
an escape character followed by the letter &lsquo;<samp><span class="samp">e</span></samp>&rsquo;. This enables the
editing table to do such things as drop the baseline indicator at the
end of a math expression and insert a number sign at the beginning, if
needed.

   <p>Not found in liblouis is the sequence &lsquo;<samp><span class="samp">\*</span></samp>&rsquo;. This means to put
what follows after the very last child of the math element, no matter
how many there are.

   <p>As another example consider:

<pre class="example">     mtd mtd \*\ec
</pre>
   <p><code>mtd</code> is the MathML tag for a table column. There may be many
children of this tag. The entry says to put an escape character (hex
1b), plus the letter &lsquo;<samp><span class="samp">c</span></samp>&rsquo;, after the very last of them.

   <p>As a final example consider:

<pre class="example">     mtr mtr ^.^\,^(,\*^.^\,^)\er
</pre>
   <p><code>mtr</code> is the MathML tag for a row in a table, in this case a
matrix. Each row in a matrix must begin with the dot pattern
&lsquo;<samp><span class="samp">46-6-12356</span></samp>&rsquo; and end with the dot pattern &lsquo;<samp><span class="samp">46-6-12456</span></samp>&rsquo;. As
usual a caret is placed before the corresponding characters. Since dot
6 is a comma, it must be escaped. This is done by placing a backslash
before the comma. There are two subcolumns. the first contains the
characters to be placed at the beginning of each row. The second
starts with &lsquo;<samp><span class="samp">\*</span></samp>&rsquo;, signifying that the characters following it
are to be placed at the end of everything in this row. A subcolumn
starting with &lsquo;<samp><span class="samp">\*</span></samp>&rsquo; must be the last (or only) subcolumn.

   <p>Here this last subcolumn ends with an escape character and the letter
&lt;r&gt;, signifying the end of a row.

   <p>So much for the semantic action file. Even though the characters in
the third column were chosen to correspond with nemeth characters,
they may not have to be changed for other math codes. liblouis can
replace them with anything needed.

   <p>This brings us to a consideration of the two tables used by liblouis
to translate mathematics texts. The first, <samp><span class="file">en-mathtext.ctb</span></samp> is
used to translate text appearing outside math expressions. It is
necessary because the Nemeth code requires modifications of Grade 2
braille. Other math codes may not have this requirement.

   <p>The table actually used to translate mathematics is <samp><span class="file">nemeth.ctb</span></samp>. 
It includes two other tables, <samp><span class="file">chardfs.cti</span></samp> and
<samp><span class="file">nemethdefs.cti</span></samp>. The first gives ordinary character definitions
and is included by all the other tables. Note however, that the
unbreakable space, &lsquo;<samp><span class="samp">\x00a0</span></samp>&rsquo;, is translated by dot 9. This is used
before and after the equal sign and other symbols in
<samp><span class="file">nemeth.ctb</span></samp>. The second table contains character definitions for
special math symbols, most of which are Unicode characters greater
than &lsquo;<samp><span class="samp">\x00ff</span></samp>&rsquo;. The Greek letters are here. So are symbols like
the integral sign.

   <p>Most of the entries in <samp><span class="file">nemeth.ctb</span></samp> should be familiar from other
tables. The unfamiliar ones follow the comments &lsquo;<samp><span class="samp"># Semantic
pairs</span></samp>&rsquo; and &lsquo;<samp><span class="samp"># pass2 corrections</span></samp>&rsquo;. The first simply replace
characters preceded by a caret with the character itself. The second
make adjustments in the code generated directly from the
<samp><span class="file">nemeth.sem</span></samp> file. The pass2 opcode is discussed in the liblouis
documentation (see <a href="liblouis.html#Top">Overview</a>). Here are some comments on a few of the entries in
<samp><span class="file">nemeth.ctb</span></samp>.

<pre class="example">     pass2 @1456-1456 @6-1456
</pre>
   <p>Replaces double start-fraction indicators with the start complex
fraction indicator.

<pre class="example">     pass2 @3456-3456 @6-3456
</pre>
   <p>Replaces double end-fraction indicators with the end-complex-fraction
indicator.

<pre class="example">     pass2 @56[$d1-5]@5 *
</pre>
   <p>Removes the subscript and baseline indicators from numeric subscripts.

<pre class="example">     pass2 @5-9 @9
</pre>
   <p>Removes the baseline or multipurpose indicator before an unbreakable
space generated by the translation of an equal sign, etc.

<pre class="example">     pass2 @45-3-5 @3
</pre>
   <p>Replaces a superscript apostrophe with a simple prime symbol.

<pre class="example">     pass2 @9[]$d @3456
</pre>
   <p>Puts a number sign before a digit preceded by a blank.

<pre class="example">     pass2 @9-0 @9
</pre>
   <p>Removes a space following an unbreakable space.

   <p>We now come to the fourth and last table used for math translation,
the editing table, <samp><span class="file">nemeth_edit.ctb</span></samp>. As explained at the
beginning, this table is used to remove inaccuracies where math
translation butts up against text translation. For example, the Nemeth
code puts numbers in the lower part of the cell. However, punctuation
marks are also in the lower part of the cell. So Nemeth puts a
punctuation indicator, dots &lsquo;<samp><span class="samp">456</span></samp>&rsquo;, in front of any lower-cell
punctuation that immediately follows a mathematical expression. If
this occurs inside Mathml it is handled by <samp><span class="file">nemeth.ctb</span></samp>. However,
a MathML expression is often followed by a punctuation mark which is
the first part of text. liblouisxml puts a blank between math and
text, but this can result in a mathematical expression followed by a
blank and then, say, a period, dots &lsquo;<samp><span class="samp">256</span></samp>&rsquo;. <samp><span class="file">nemeth_edit.ctb</span></samp>
replaces the blank with the punctuation indicator.

   <p>When you look at <samp><span class="file">nemeth_edit.ctb</span></samp> you will see that it begins with
an include of <samp><span class="file">chardefs.cti</span></samp>. Most of the entries are ordinary,
but some are interesting. for example,

<pre class="example">     always "\s 0
</pre>
   <p>replaces the baseline or multipurpose indicator followed by a space
with just a space.

<p><a name="Programming-with-liblouisxml"></a>

<h2 class="chapter">8 Programming with liblouisxml</h2>

<p><a name="License"></a>

<h3 class="section">8.1 License</h3>

<p>Liblouisxml may contain code borrowed from the Linux screenreader
BRLTTY, Copyright &copy; 1999-2009
by the BRLTTY Team.

<p class="noindent">Copyright &copy; 2004-2009 ViewPlus Technologies, Inc. 
<a href="www.viewplus.com">www.viewplus.com</a>.

<p class="noindent">Copyright &copy; 2006,2009 Abilitiessoft, Inc. 
<a href="www.abilitiessoft.com">www.abilitiessoft.com</a>.

   <p>Liblouisxml is free software: you can redistribute it and/or modify it
under the terms of the GNU Lesser General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

   <p>Liblouisxml is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
Lesser General Public License for more details.

   <p>You should have received a copy of the GNU Lesser General Public
License along with Liblouisxml. If not, see
<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.

<p><a name="Overview"></a>

<h3 class="section">8.2 Overview</h3>

<p>liblouisxml is an "extensible renderer", designed to translate a wide
variety of xml and text documents into braille, but with a special
emphasis on
technical material. The overall operation of liblouisxml is controlled
by a configuration file. The way in which a particular type of xml
document is to be rendered is specified by a semantic-action file for
that document type. Braille translation is done by the liblouis
braille translation and back-translation library (see <a href="liblouis.html#Top">Overview</a>). 
Its operation, in turn is controlled by translation table files. All
these files are plain text and can be created and edited in any text
editor. Configuration settings can also be specified on the command
line of the console-mode transcription program <samp><span class="command">xml2brl</span></samp>.

   <p>The general operation of liblouisxml is as follows. It uses the libxml2
library to construct a parse tree of the xml document. After the parse
tree is constructed, a function called <code>examine_document</code> looks it
over and determines whether math translation tables, etc. are needed. 
<code>examine_document</code> also constructs a prototype semantic-action
file, if one does not exist already. It may also construct another file
containing entries not found in an existing file. When it is finished,
another function, called <code>transcribe_document</code>, does the actual
braille transcription. It calls <code>transcribe_math</code> to handle MathML
subtrees, <code>transcribe_chemistry</code> for chemical formula subtrees,
<code>transcribe_graphic</code> for SVG graphics, etc. Entities are translated
to Unicode, if they are not already. Sequences of symbols indicate
superscripts, return to the baseline, subscripts, start and end of
fractions, etc. The Braille translator and back-translator library
liblouis is used to do the braille translation.

   <p>The <code>transcribe_math</code> function works in conjunction with the
latest version of liblouis and a special math translation table to
transcribe most mathematical expressions into good braille mathematical
Code.

   <p>The functions which are not ready for use at the moment, such as
<code>transcribe_chemistry</code>, are only skeletons. However, I hope that
<code>transcribe_graphics</code> can be expanded in the near future to use the
graphics capability of the Tiger tactile graphics embossers.

   <p>The latest versions of liblouisxml and liblouis can be downloaded from
<a href="www.abilitiessoft.com">www.abilitiessoft.com</a>. This site also contains links to a mailing
list and to project pages on googlecode.google.com. Note that
liblouisxml will only work with the latest version of liblouis.

   <p>liblouisxml can be compiled to use either 16-bit or 32-bit Unicode
internally. This is inherited from liblouis, so liblouis must be
compiled first and then liblouisxml. Wherever 16 bits are mentioned in
this document, read 32 if you have compiled the library for 32 bits.

<p><a name="Files-and-Paths"></a>

<h3 class="section">8.3 Files and Paths</h3>

<p>liblouisxml uses three kinds of
files, configuration files, semantic-action files, and liblouis
translation tables. The first two are discussed elsewhere in this
documentation. liblouis translation tables are discussed in the
liblouis documentation (see <a href="liblouis.html#Top">Overview</a>) which is distributed with liblouis.

   <p>Note that liblouisxml also generates some files, all of which are placed
in the current directory. These files are new prototype semantic-action
files, additions to old semantic-action files, temporary files, and log
files. The first two can be used to extend the capability of liblouisxml
to process xml documents. The latter two are useful for debugging.

   <p>liblouisxml determines the paths on which it will search for files at
run time, as part of its initialization. First, if the first file in a
configuration file list includes a path, liblouisxml will search first
on this path. The path may be either absolune or relative. Only the
first filename in a configuration file list may have a path. Next, in
Windows liblouisxml determines the path to itself. this is the second
path on which it will look for files. The liblouis <samp><span class="file">tables</span></samp>
directory and the liblouisxml <samp><span class="file">lbx_files</span></samp> directory are relative to
this path. In Unix systems, including the Mac,, these directories are
absolute paths determined at compile time. liblouisxml searches first
the <samp><span class="file">tables</span></samp> directory and then the <samp><span class="file">lbx_files</span></samp> directory. 
Finally, it establishes the current directory as the final path to be
searched. If you wish the current directory to be the first path
searched, prefix the first configuration file name with &lsquo;<samp><span class="samp">./</span></samp>&rsquo; for
Unix or &lsquo;<samp><span class="samp">.\</span></samp>&rsquo; for Windows.

   <p>Paths are handled in the <code>paths.c</code> module. This contains the
function <code>set_paths</code>, which is called from <code>readconfig.c</code> and
in turn calls <code>addPath</code> in the <code>paths.c</code> module.

<p><a name="lbx_version"></a>
<a name="lbx_005fversion"></a>

<h3 class="section">8.4 lbx_version</h3>

<p><a name="index-lbx_005fversion-153"></a>
<pre class="example">     char *lbx_version (void)
</pre>
   <p>This function returns a pointer to a character string containing the
version of liblouisxml. Other information such as the release
date and perhaps notable changes may be added later.

<p><a name="lbx_initialize"></a>
<a name="lbx_005finitialize"></a>

<h3 class="section">8.5 lbx_initialize</h3>

<p><a name="index-lbx_005finitialize-154"></a>
<pre class="example">     void * lbx_initialize (
     const char *configFilelist,
     const char *logFileName,
     const char *settingsString)
</pre>
   <p>This function initializes the libxml2 library, processes
<samp><span class="file">canonical.cfg</span></samp> and configuration settings given in
the configuration files given in <code>configFilelist</code>. This is a list
of configuration file names separated by commas. If the first character
is a comma it is taken to be a string containing configuration settings
and is processed like the <code>settingsString</code> string. if the parameter
<code>settingsString</code> is not <code>NULL</code> it is processed last. Such a
string must conform to the format of a configuration file. Newlines
should be represented with ASCII 10. If <code>logfilename</code> is not
<code>null</code>, a log file is produced on the current directory. If it is
<code>null</code> any messages are printed on stderr. The function returns a
pointer to the <code>UserData</code> structure. This pointer is <code>void</code>
and must be cast to <code>(UserData *)</code> in the calling program. To
access the information in this structure you must include
<samp><span class="file">louisxml.h</span></samp>. This function is used by <samp><span class="command">xml2brl</span></samp>.

<p><a name="lbx_translateString"></a>
<a name="lbx_005ftranslateString"></a>

<h3 class="section">8.6 lbx_translateString</h3>

<p><a name="index-lbx_005ftranslateString-155"></a>
<pre class="example">     int lbx_translateString (
     const char *configfilelist,
     char * inbuf,
     widechar *outbuf,
     int *outlen,
     unsigned int mode)
</pre>
   <p>This function takes a well-formed xml expression in <code>inbuf</code> and
translates it into a string of 16-bit (or 32-bit if this has been
specified in liblouis) braille characters in <code>outbuf</code>. The xml
expression must be immediately followed by a zero or null byte. 
Leading whitespace is ignored. If it does not then begin with the
characters &lsquo;<samp><span class="samp">&lt;?xml</span></samp>&rsquo; an xml header is added. If it does not begin
with &lsquo;<samp><span class="samp">&lt;</span></samp>&rsquo; it is assumed to be a text string and is translated
accordingly. The header is specified by the <code>xmlHeader</code> line in
the configuration file. If no such line is present, a default header
specifying UTF-8 encoding is used. The <code>mode</code> parameter specifies
whether you want the library to be initialized. If it is 0 everything
is reset, the <samp><span class="file">canonical.cfg</span></samp> file is processed and the
configuration file and/or string (see previous section) are processed. 
If <code>mode</code> is 1 liblouisxml simply prepares to handle a new
document. For more on the <code>mode</code> parameter see the next section.

   <p>Which 16-bit character in <code>outbuf</code> represents which dot pattern
is indicated in the liblouis translation tables. The
<code>configfilelist</code> parameter points to a configuration file or
string. Among other things, this file specifies translation tables. It
is these tables which control just how the translation is made,
whether in Grade 2, Grade 1, the Nemeth Code of Braille Mathematics or
something else.

   <p>Note that the <code>*outlen</code> parameter is a pointer to an integer. 
When the function is called, this integer contains the maximum output
length. When it returns, it is set to the actual length used. The
function returns 1 if no errors were encountered and a negative number
if a complete translation could not be done.

<p><a name="lbx_translateFile"></a>
<a name="lbx_005ftranslateFile"></a>

<h3 class="section">8.7 lbx_translateFile</h3>

<p><a name="index-lbx_005ftranslateFile-156"></a>
<pre class="example">     int lbx_translateFile (
     char *configfilelist,
     char *inputFileName,
     char *outputFileName,
     unsigned int mode)
</pre>
   <p>This function accepts a well-formed xml document in
<code>inputFilename</code> and produces a braille translation in
<code>outputFilename</code>. As for <code>lbx_translateString</code>, the
<code>mode</code> parameter specifies whether the library is to be
initialized with new configuration information or simply prepared to
handle a new document. In addition, the <code>mode</code> parameter can
specify that a document is in html, not xhtml. <samp><span class="file">liblouisxml.h</span></samp>
contains an enumeration type with the values <code>dontInit</code> and
<code>htmlDoc</code>. These can be combined with an or (&lsquo;<samp><span class="samp">|</span></samp>&rsquo;) operator. The
input file is assumed to be encoded in UTF-8, unless otherwise
specified in the xml header. The encoding of the output file may be
UTF-8, UTF-16, UTF-32 or Ascii-8. This is specified by the
<code>outputEncoding</code> line in the configuration file,
<code>configfilelist</code>. The function returns 1 if the translation was
successful.

<p><a name="lbx_translateTextFile"></a>
<a name="lbx_005ftranslateTextFile"></a>

<h3 class="section">8.8 lbx_translateTextFile</h3>

<p><a name="index-lbx_005ftranslateTextFile-157"></a>
<pre class="example">     int lbx_translateTextFile (
     char *configfilelist,
     char *inputFileName,
     char *outputFileName,
     unsigned int mode)
</pre>
   <p>This function accepts a text file in <code>inputFilename</code> and produces
a braille translation in <code>outputFilename</code>. The input file is
assumed to be encoded in Ascii8. However, utf-8 can be specified with
the configuration setting <code>inputTextEncoding utf8</code>. Blank lines
indicate the divisions between paragraphs. Two blank lines cause a
blank line between paragraphs (or headers). The output file may be in
UTF-8, UTF-16, or Ascii8, as specified by the <code>outputEncoding</code>
line in the configuration file, <code>configfilelist</code>. As for
<code>lbx_translateString</code>, the <code>mode</code> parameter specifies
whether complete initialization is to be done or simply initialization
for a new document.

<p><a name="lbx_backTranslateFile"></a>
<a name="lbx_005fbackTranslateFile"></a>

<h3 class="section">8.9 lbx_backTranslateFile</h3>

<p><a name="index-lbx_005fbackTranslateFile-158"></a>
<pre class="example">     int lbx_backTranslateFile (
     char *configfilelist,
     char *inputFileName,
     char *outputFileName,
     unsigned int mode)
</pre>
   <p>This function accepts a braille file in <code>inputFilename</code> and
produces a back-translation in <code>outputFilename</code>. The input file
is assumed to be encoded in Ascii8. The output file is in either plain
text or html, according to the setting of <code>backFormat</code> in the
configuration file. Html files are encoded in UTF8. In plain-text,
blank lines are inserted between paragraphs. The output file may be in
UTF-8, UTF-16, or Ascii8, as specified by the <code>outputEncoding</code>
line in the configuration file, <code>configfilelist</code>. The mode
parameter specifies whether or not the library is to be initialized
with new configuration information, as described in the section on
<code>lbx_translateString</code> (see <a href="#lbx_005ftranslateString">lbx_translateString</a>).

<p><a name="lbx_free"></a>
<a name="lbx_005ffree"></a>

<h3 class="section">8.10 lbx_free</h3>

<p><a name="index-lbx_005ffree-159"></a>
<pre class="example">     void lbx_free (void)
</pre>
   <p>This function should be called at the end of the application to free
all memory allocated by liblouisxml and liblouis. If you wish to
change configuration files during your application, use a <code>mode</code>
parameter of 0 on the function call using the new configuration
information. This will call the <code>lbx_free</code> function automatically.

<p><a name="Example-files"></a>

<h2 class="appendix">Appendix A Example files</h2>

<p>This appendix contains all the files referenced in this document. They
are up-to-date at the time of writing, but the actual files used by the
software may change. Besides being used for reference, they can be
studied to see how things are done.

<p><a name="canonical.cfg"></a>
<a name="canonical_002ecfg"></a>

<h3 class="section">A.1 <samp><span class="file">canonical.cfg</span></samp></h3>

<pre class="example">     # canonical Configuration File
     
     # This file contains all possible settings, together with their
     # default values.
     
     # It is read automatically when liblouisxml starts. You should use it as
     # a reference but never specify it as a configuration file.
     
     # There are three kinds of lines in the file. the first has a single
     # column beginning at the left margin. This column contains the name of
     # a category of settings, such as outputFormat or translation. These
     # lines are optional. The
     # second type of line contains the word style in the first column,
     # followed by at least one space or tab, and then a style name. The
     # third kind of line is indented one tab stop to set it off from the
     # others. It centains a setting name, at least one blank space or tab,
     # and the value of the setting.
     
     outputFormat
     cellsPerLine 40
     linesPerPage 25
     interpoint no
     lineEnd \r\n
     pageEnd \f
     fileEnd ^z
     printPages yes
     braillePages yes
     paragraphs yes
     beginningPageNumber 1
     printPageNumberAt top
     braillePageNumberAt bottom
     hyphenate no
     outputEncoding ascii8
     inputTextEncoding ascii8
     backFormat plain
     backLineLength 70
     formatFor textDevice
     interline no
     lineFill '
     translation
     literarytextTable en-us-g2.ctb
     uncontractedTable en-us-g1.ctb
     compbrlTable en-us-compbrl.ctb
     mathtextTable en-us-g2.ctb
     mathexprTable nemeth.ctb
     editTable nemeth_edit.ctb
     interlineBackTable en-us-interline.ctb
     xml
     semanticFiles *,nemeth.sem
     xmlheader "&lt;?xml version='1.0' encoding='UTF8' standalone='yes'?&gt;"
     # entity nbsp ^1
     internetAccess yes
     newEntries yes
     
     # Unlike the other categories, the style category must be followed by
     # the name of a style.
     
     style document
     linesBefore 0
     linesAfter 0
     leftMargin 0
     firstLineIndent 0
     translate contracted
     skipNumberLines no
     format leftJustified
     newPageBefore no
     newPageAfter no
     righthandPage no
     braillePageNumberFormat normal
     
     style arith
     style attribution
     format rightJustified
     style biblio
     style caption
     leftMargin 4
     firstLineIndent 2
     style code
     linesBefore 1
     linesAfter 1
     skipNumberLines yes
     format computerCoded
     style contentsheader
     linesBefore 1
     format centered
     linesAfter 1
     style contents1
     firstLineIndent -2
     leftMargin 2
     format contents
     style contents2
     firstLineIndent -2
     leftMargin 4
     format contents
     style contents3
     firstLineIndent -2
     leftMargin 6
     format contents
     style contents4
     firstLineIndent -2
     leftMargin 8
     format contents
     style dedication
     newPageBefore yes
     newPageAfter yes
     format centered
     style directions
     style dispmath
     leftMargin 2
     style disptext
     leftMargin 2
     firstLineIndent 2
     style exercise1
     leftMargin 2
     firstLineIndent -2
     style exercise2
     leftMargin 4
     firstLineIndent -2
     style exercise3
     leftMargin 6
     firstLineIndent -2
     style glossary
     firstLineIndent 2
     style graph
     skipNumberLines yes
     style graphlabel
     style heading1
     linesBefore 1
     format centered
     linesAfter 1
     style heading2
     linesBefore 1
     firstLineIndent 4
     style heading3
     firstLineIndent 4
     style heading4
     firstLineIndent 4
     style index
     style line
     firstLineIndent -2
     leftMargin 2
     style list
     firstLineIndent -2
     leftMargin 2
     style matrix
     format alignColumnsLeft
     style music
     skipNumberLines yes
     style note
     style para
     firstLineIndent 2
     style quotation
     linesBefore 1
     linesAfter 1
     style section
     firstLineIndent 4
     style spatial
     style stanza
     linesBefore 1
     linesAfter 1
     style style1
     style style2
     style style3
     style style4
     style style5
     style subsection
     firstLineIndent 4
     style table
     linesBefore 1
     linesAfter 1
     style titlepage
     newPageAfter yes
     style trnote
     firstLineIndent 7
     leftMargin 5
     style volume
</pre>
<p><a name="default.cfg"></a>
<a name="default_002ecfg"></a>

<h3 class="section">A.2 <samp><span class="file">default.cfg</span></samp></h3>

<pre class="example">     outputFormat
     cellsPerLine 32
     linesPerPage 25
     interpoint no
     braillePages no
     # backFormat html
     # hyphenate yes
     # interline yes
     translation
     literaryTextTable en-us-g2.ctb,corrections.ctb
     # literaryTextTable en-us-g2.ctb,hyph_en_US.dic
     # literaryTextTable no-no-g1.ctb
     # interlineBackTable en-us-interline.ctb
     compbrlTable en-us-comp8.ctb
     xml
     internetAccess no
     # newEntries no
     # semanticFiles book.sem
     # entity nbsp ~1
     
</pre>
<p><a name="html.sem"></a>
<a name="html_002esem"></a>

<h3 class="section">A.3 <samp><span class="file">html.sem</span></samp></h3>

<pre class="example">     # This file was produced by liblouisxml and is considered part of
     # the code. See the file copyright-notice for permissions and
     # restrictions. This notice also applies to any files with names
     # beginning with 'appended_'.
     
     # You must edit this file as explained in the documentation to get
     # proper output.
     notranslate ntr
     trnote trnote
     contentsheader contentshere
     no hr
     no body
     softreturn br
     heading1 h1
     italicx em
     skip style
     italicx strong
     no ol
     no head
     document html
     no a
     para p
     heading1 title
     list li
     table table
     no param
     pagenum pagenum
     no div
     no span
     no link
     heading2 h2
     no img
     no td
     no tr
     no object
     no ul
     no link,type
     no img,width
     no table,cellpadding
     no img,src
     no div,class
     no td,class
     no p,class
     no table,border
     no table,width
     htmllink link,href
     no param,name
     no param,value
     no link,rel
     no a,id
     no table,cellspacing
     no td,colspan
     no img,height
     no object,classid
     no object,width
     changetable span,lang
     no span,class
     no object,height
     no a,class
     no img,alt
     htmllink a,href
     htmltarget a,name
     no p,align
     no a,name,light
     no a,name,decisi
     no a,name,city
     no a,name,ascent
     no a,name,homeco
     no a,name,forest
     no a,name,prolog
     no p,align,center
     no a,name,homest
     no link,type,text/css
     no a,id,TrigonometricFun
     no img,width,300
     no img,height,300
     no a,href,http://ocw.mit.e
     no td,colspan,3
     no table,border,0
     no table,cellpadding,0
     no td,class,navbar
     no param,name,archive
     no a,href,../tools/content
     no object,height,450
     no span,class,math-inline-bold
     no link,href,../calculus.css
     no param,name,codebase
     no span,class,math-inline-norm
     no img,alt,figure
     no p,class,text-right
     no a,href,contents.xhtml
     no img,src,images/trigo_fun
     no object,classid,java:Trigonometr
     no p,class,text-center
     no a,class,doclink
     no table,cellspacing,0
     no a,href,../glossary_nota
     no div,class,math-block-norma
     no link,href,../mathml.css
     no param,value,trigonometricFun
     no a,href,../index.xhtml
     no link,rel,stylesheet
     no param,value,../applets/
     no object,width,760
     no table,width,100%
     no img,width,184
     no div,class,math-block-bold
     no img,height,116
     no img,src,images/law_sines
     no img,src,images/ln.gif
     no param,value,rotatingCoordina
     no object,classid,java:RotatingCoo
     no a,id,RotatingCoordina
     no a,id,Exercise_3_2
     no a,id,Exercise_3_5
     no object,classid,java:OperationsO
     no a,id,Definition
     no param,value,operationsOnVect
     no param,value,multiplicationVe
     no img,src,images/polar_coo
     no param,value,determinantVecto
     no html,lang
     no html,lang,no
     no i
     no sup
     no style,type
     no style,type,text/css
     no p,class,indent
     no p,class,center
     no p,class,right
     no span,class,math-inline-normal
     no object,classid,java:OperationsOnVectors.class
     no a,href,http://ocw.mit.edu/OcwWeb/Mathematics/18-013ASprin
     code pre
     no meta
     no h1,align
     no meta,content
     no meta,name
     no meta,name,description
     no h1,align,center
     no meta,name,keywords
     no meta,content,Pope_John_Paul_II's_Apostolic__Letter_'Salvifici_D
     no meta,content,suffering__Christian_suffering__redemptive_sufferi
     no font
     no b
     no small
     no h3
     no sub
     no font,size
     no td,align
     no mstyle,fontfamily
     no td,width
     no mi,fontstyle
     no ol,type
     no mstyle,fontfamily,helvetica
     no mi,fontstyle,italic
     no td,align,center
     no meta,content,TtM_3.72
     no td,width,1
     no meta,name,GENERATOR
     no ol,type,1
     no div,class,p
     no font,size,-1
     no mi,fontstyle,normal
     no span,lang,en-us-g1.ctb
     no none
     no col
     no caption
     no thead
     no cite
     no tbody
     no mprescripts
     no math,id
     no mo,minsize
     no math,smilref
     no h1,class
     no p,id
     no caption,title
     no table,id
     no object,data
     no thead,id
     no div,title
     no col,id
     no tbody,id
     no div,id
     no caption,id
     no math,alttext
     no meta,scheme
     no object,id
     no p,title
     no td,rowspan
     no cite,id
     no math,altimg
     no mspace,linebreak
     no table,title
     no td,id
     no tr,id
     no math,overflow
     no div,id,d4e64
     no math,id,d1e21
     no p,title,paragraph:_We_have_performed...
     no div,id,d4e54
     no div,id,d4e59
     no meta,content,Text
     no mi,mathvariant,bold-italic
     no div,id,d4e49
     no math,overflow,scroll
     no div,id,front
     no p,id,d4e72
     no math,alttext,__lamda_sub_c
     no meta,scheme,EID
     no p,id,d4e62
     no p,id,d4e67
     no p,id,d4e52
     no object,id,f1
     no object,id,f2
     no p,id,d4e57
     no object,id,f3
     no tbody,id,d13e73
     no tr,id,d13e74
     no math,smilref,dtb_e057003.smil#d1e21
     no td,colspan,1
     no tr,id,d13e67
     no td,colspan,2
     no p,title,paragraph:_We_report_measure...
     no caption,id,d13e2
     no math,id,d1e770
     no meta,scheme,PACS_code
     no p,title,paragraph:_Angle_resolved_ph...
     no object,data,e057003_2.svg
     no math,smilref,dtb_e057003.smil#d1e770
     no p,title,paragraph:_The_transition_me...
     no col,id,d13e60
     no col,id,d13e61
     no col,id,d13e62
     no col,id,d13e63
     no col,id,d13e64
     no caption,title,caption
     no div,title,Author_Information
     no link,href,default.css
     no math,alttext,__cap_nb_cap_se_sub_2
     no math,id,d1e113
     no math,alttext,__lamda_sub_ay
     no mspace,linebreak,goodbreak
     no math,id,d1e121
     no meta,name,dc:Type
     no math,id,d1e129
     no span,class,sentence
     no div,title,frontmatter
     no cite,id,d4e2807
     no div,class,doctitle
     no math,smilref,dtb_e057003.smil#d1e113
     no td,rowspan,1
     no p,title,paragraph:_We_thank_I._Mazin...
     no math,smilref,dtb_e057003.smil#d1e121
     no math,smilref,dtb_e057003.smil#d1e129
     no math,altimg,math_img/math_2.png
     no cite,id,d4e2838
     no div,class,frontmatter
     no thead,id,d13e66
     no table,title,Table:_Variation_of_the_...
     no cite,id,d4e2816
     no cite,id,d4e2829
     no math,alttext,_2__cap_h_-__cap_nb_cap_se_sub_2
     no td,id,d13e88
     no td,id,d13e71
     no td,id,d13e75
     no param,name,SRC
     no td,id,d13e68
     no td,id,d13e69
     no object,classid,CLSID:8483EB52-5EF2-44F5-A685-C9FD08F9B18C
     no html,lang,en
     no object,data,e057003_3.svg
     no tr,id,d13e193
     no tr,id,d13e167
     no tr,id,d13e180
     no table,id,d13e1
     no math,altimg,math_img/math_1.png
     no meta,content,ANSI/NISO_Z39.86-2005
     no meta,scheme,http://www.w3.org/1998/Math/MathML
     no math,altimg,math_img/math_4.png
     no h1,class,title
     no math,altimg,math_img/math_10.png
     no math,altimg,math_img/math_3.png
     no cite,id,d4e2794
     no meta,scheme,DOI
     no mo,minsize,5ex
     no object,data,e057003_1.svg
     no meta,name,dc:Format
     no a,class,nava
     no a,onclick
     no a,onclick,ChSize('10')
     no a,onclick,ChSize('12')
     no a,onclick,ChSize('13')
     no a,onclick,ChSize('14')
     no a,shape
     no a,shape,rect
     no a,target
     no a,target,_blank
     quotation blockquote
     no br,class
     no br,class,newline
     no center
     no h3,class
     no h3,class,sectionHead
     heading4 h4
     no h4,class
     no h4,class,subsectionHead
     no img,alt,Variable_Star.jpg
     no img,src,Variable%20Star.jpg
     no link,href,http://purl.org/DC/elements/1.0/
     no link,href,root.css
     no link,rel,schema.DC
     no meta,http-equiv
     no meta,http-equiv,Content-Language
     no meta,http-equiv,Content-Type
     no mo,class
     no mo,class,MathClass-close
     no mo,class,MathClass-punc
     no mo,class,MathClass-rel
     no mspace,class
     no mspace,class,quad
     no mspace,width,1em
     no mstyle,class
     no mstyle,class,label
     no mstyle,id
     no mstyle,id,x1-2001r1
     no mstyle,id,x1-2002r2
     no script
     no script,type
     no script,type,text/javascript
     no span,class,titlemark
     no table,class
     no table,class,equation
     no td,class,eq-no
     titlepage titlepage
     dedication dedication
     attribution attribution
     no list
     italicx emp
     no attrib
     no meta,name,generator
     no mo,class,MathClass-op
     no mo,class,MathClass-open
     no mo,class,MathClass-bin
     boxline boxline 7
     no base
     no var
     para dd
     no dl
     para dt
     heading4 h5
     compbrl code
     no base,href
     no hr,title
     no tr,valign
     no pre,style
     no img,width,72
     no pre,style,color:_red
     no tr,valign,baseline
     no base,href,http://www.w3.org/TR/1999/REC-xslt-19991116
     no img,height,48
     no table,class,scrap
     no hr,title,Separator_for_header
     no img,alt,W3C
     no hr,title,Separator_from_footer
     no samp
     no th
     no dd,id
     
     no h2,id
     no table,summary
     no li,id
     no ol,id
     no dl,id
     no ul,class
     no ul,id
     no dt,id
     no samp,id
     no h1,id
     no h3,id
     no ul,class,pl
     no dl,id,dl_1
     no ul,id,ul_1
     no dl,id,dl_2
     no ul,id,ul_2
     no ul,id,ul_3
     no ul,id,ul_4
     no dl,id,dl_5
     no dl,id,dl_6
     no h3,id,h3_18
     no h2,id,h2_5a
     no h1,id,h1_2a
     no h3,id,Vote
     no dl,id,dl_5a
     no samp,id,smp_1
     no samp,id,smp_2
     no li,id,li_0
     no samp,id,smp_3
     no li,id,li_1
     no samp,id,smp_4
     no li,id,li_2
     no samp,id,smp_5
     no li,id,li_3
     no li,id,li_4
     no dd,id,dd_1
     no dt,id,dt_1
     no dd,id,dd_2
     no dt,id,dt_2
     no dd,id,dd_3
     no dt,id,dt_3
     no dd,id,dd_4
     no dt,id,dt_4
     no dd,id,dd_5
     no dt,id,dt_5
     no h3,id,h3_8
     no h3,id,BoD
     no h3,id,h2_5
     no ol,id,ol_3gwk
     no h1,id,h1_2
     no h1,id,h1_3
     no h1,id,h1_4
     no h2,id,h2_6
     no h2,id,h2_7
     no h2,id,h2_8
     no h2,id,h2_9
     no ol,id,ol_2
     no h1,id,h1_a
     no ol,id,ol_3
     no ol,id,ol_4
     no table,summary,This_table_lists_each_kind_of_DTB_file__the_requir
     no ul,id,ol_1
     no base
     no var
     para dd
     para dl
     no dt
     no h5
     code code
     no base,href
     no hr,title
     no tr,valign
     no pre,style
     no img,width,72
     no pre,style,color:_red
     no tr,valign,baseline
     no base,href,http://www.w3.org/TR/1999/REC-xslt-19991116
     no img,height,48
     no table,class,scrap
     no hr,title,Separator_for_header
     no img,alt,W3C
     no hr,title,Separator_from_footer
     no samp
     no th
     no dd,id
     no h2,id
     no table,summary
     no li,id
     no ol,id
     no dl,id
     no ul,class
     no ul,id
     no dt,id
     no samp,id
     no h1,id
     no h3,id
     no ul,class,pl
     no dl,id,dl_1
     no ul,id,ul_1
     no dl,id,dl_2
     no ul,id,ul_2
     no ul,id,ul_3
     no ul,id,ul_4
     no dl,id,dl_5
     no dl,id,dl_6
     no h3,id,h3_18
     no h2,id,h2_5a
     no h1,id,h1_2a
     no h3,id,Vote
     no dl,id,dl_5a
     no samp,id,smp_1
     no samp,id,smp_2
     no li,id,li_0
     no samp,id,smp_3
     no li,id,li_1
     no samp,id,smp_4
     no li,id,li_2
     no samp,id,smp_5
     no li,id,li_3
     no li,id,li_4
     no dd,id,dd_1
     no dt,id,dt_1
     no dd,id,dd_2
     no dt,id,dt_2
     no dd,id,dd_3
     no dt,id,dt_3
     no dd,id,dd_4
     no dt,id,dt_4
     no dd,id,dd_5
     no dt,id,dt_5
     no h3,id,h3_8
     no h3,id,BoD
     no h3,id,h2_5
     no ol,id,ol_3gwk
     no h1,id,h1_2
     no h1,id,h1_3
     no h1,id,h1_4
     no h2,id,h2_6
     no h2,id,h2_7
     no h2,id,h2_8
     no h2,id,h2_9
     no base,href,http://www.daisy.org/z3986/2005/Z3986-2005.html
     no ol,id,ol_2
     no h1,id,h1_a
     no ol,id,ol_3
     no ol,id,ol_4
     no table,summary,This_table_lists_each_kind_of_DTB_file__the_requir
     no ul,id,ol_1
     no form
     no input
     no select
     no label
     no noscript
     no option
     no textarea
     no td,valign
     no input,border
     no textarea,class
     no select,class
     no img,name
     no input,type
     no script,language
     no select,size
     no label,for
     no textarea,name
     no link,media
     no input,name
     no textarea,wrap
     no td,height
     no script,src
     no input,width
     no input,id
     no form,id
     no img,border
     no b,class
     no option,selected
     no li,class
     no form,method
     no img,align
     no table,align
     no input,maxlength
     no img,class
     no input,value
     no select,id
     no form,name
     no textarea,rows
     no tr,align
     no input,class
     no input,src
     no textarea,id
     no select,name
     no pre,class
     no span,id
     no input,alt
     no img,vspace
     no textarea,cols
     no input,height
     no form,action
     no tr,class
     no option,value
     no img,vspace,3
     no img,border,0
     no input,height,21
     no input,width,120
     no select,size,1
     no input,src,//www.ibm.com/i/v14/buttons/submit.gif
     no td,height,18
     no input,maxlength,100
     no option,value,dW
     no pre,class,displaycode
     no textarea,cols,35
     no form,method,get
     no tr,align,right
     no table,align,right
     no input,id,q
     no img,class,display-img
     no textarea,rows,5
     no form,name,form1
     no b,class,related
     no input,name,searchType
     no input,border,0
     no td,valign,middle
     no textarea,class,iform
     no select,id,sn
     no textarea,id,Comments
     no link,media,screen_print
     no select,name,searchScope
     no textarea,name,Comments
     no form,action,//www.ibm.com/developerworks/search/searchResults.
     no img,align,left
     no input,class,ibm-btn-search
     no script,src,/developerworks/js/dwcss14.js
     no span,id,ibm-search-scope
     no label,for,sn
     no script,language,JavaScript
     no input,alt,Submit
     no img,name,Benoit_Marchal
     no tr,class,left-nav-child-highlight
     no input,type,hidden
     no textarea,wrap,virtual
     no li,class,ibm-first
     no option,selected,selected
     no select,class,input-local
     no input,value,1
     no form,id,ibm-search-form
     no body,link
     no h3,align
     no body,vlink
     no body,alink
     no body,bgcolor
     no body,text
     no h2,align
     no font,face
     no body,text,black
     no body,bgcolor,white
     no body,alink,navy
     no body,link,red
     no h2,align,center
     no h3,align,center
     no body,vlink,red
     no font,face,Arial_Helvetica_sans-serif
     no link,rel,SHORTCUT_ICON
     no acronym
     code cdata-section
     no dfn
     no kbd
     no ul,compact
     no a,accesskey
     no ol,start
     no small,class
     no link,title
     no a,rel
     no h2,class
     no div,align
     no ol,start,1
     no small,class,dots
     no h2,class,unnumbered
     no a,rel,next
     no div,align,right
     no link,title,Top
     no ul,compact,
     no a,accesskey,n
     no h3,class,likesectionHead
     no h4,class,likesubsectionHead
     no a,class,url
     no colgroup
     no colgroup,id
     no table,rules
     no tr,style
     no td,style
     no li,class
     no ol,class
     no tr,class
     no li,class,enumerate
     no ol,class,enumerate1
     no tr,style,vertical-align:baseline;
     no td,style,text-align:center;_white-space:nowrap;
     no colgroup,id,TBL-1-4g
     no colgroup,id,TBL-1-5g
     no table,rules,groups
     no colgroup,id,TBL-1-2g
     no colgroup,id,TBL-1-3g
     no td,style,text-align:left;_white-space:nowrap;
     no colgroup,id,TBL-1-1g
     no tr,class,hline
     no table,class,tabular
     no td,class,td11
     no h2,class
     no h2,class,likechapterHead
     no colgroup,id
     no tr,style
     no td,style
     no tr,class
     no h3,class,likesectionHead
     no colgroup,id,TBL-4621-1g
     no tr,style,vertical-align:baseline;
     no td,style,text-align:center;_white-space:nowrap;
     no table,rules,groups
     no colgroup,id,TBL-4621-2g
     no td,style,text-align:left;_white-space:nowrap;
     no h4,class,likesubsectionHead
     no tr,class,hline
     no table,class,tabular
     no td,class,td11
</pre>
<p><a name="nemeth.sem"></a>
<a name="nemeth_002esem"></a>

<h3 class="section">A.4 <samp><span class="file">nemeth.sem</span></samp></h3>

<pre class="example">     # Licnsed under LGPL
     
     # Updated 6-18-08 by Mike Sivill &lt;mike.sivill@viewplus.com&gt;
     
     # You must edit this file as explained in the documentation to get
     # proper output.
     
     maction maction
     maligngroup maligngroup
     malignmark malignmark
     math math \eb,\*\ee
     menclose menclose
     mfrac mfrac ^?,/,^#
     mfenced mfenced ^(,^)
     mfenced mfenced,open,{ ^{,^}
     mglyph mglyph
     mi mi
     mlabeledtr mlabeledtr
     mmultiscripts mmultiscripts
     mn mn
     mo mo
     mover mover ^",^&lt;,^}
     mpadded mpadded
     reverse mroot ^&lt;,^&gt;,^}
     mrow mrow
     ms ms
     mspace mspace
     msqrt msqrt ^&gt;,^}
     mstyle mstyle
     msub msub ,^;,^"
     msubsup msupsup ,^~,^~^~,^"
     msubsup msubsup ,^;,^~,^"
     msup msup ,^~,^"
     matrix mtable
     mtd mtd \*\ec
     mtext mtext
     mtr mtr ^`^\,^(,\*^`^\,^)\er
     munder munder ^",^%,^}
     munderover munderover ^",^%,^&lt;,^}
     semantics semantics
     skip annotation
     no annotation,encoding
     no maction,actiontype
     no maction,actiontype,highli
     no maction,actiontype,status
     no maction,actiontype,toggle
     no maction,dsi:background
     no malignmark,edge
     no malignmark,edge,right
     no math,display
     no math,display,block
     no math,mode
     no math,mode,inline
     no math,xmlns
     no mfenced,open
     no mfenced,separators
     no mn,color
     no mn,color,green
     no mo,stretchy
     no mo,stretchy,false
     no mo,stretchy,true
     no mover,accent
     no mover,accent,true
     no ms,lquote
     no ms,rquote
     no ms,rquote,'
     no mspace,height
     no mspace,width
     no mstyle,background
     no mstyle,background,lightb
     no mstyle,background,red
     no mstyle,color
     no mstyle,color,blue
     no mstyle,displaystyle
     no mstyle,displaystyle,true
     no mstyle,fontsize
     no mstyle,fontstyle
     no mstyle,fontstyle,italic
     no mstyle,fontstyle,normal
     no mstyle,fontweight
     no mstyle,fontweight,bold
     no mstyle,mathsize
     no mstyle,mathsize,normal
     no mstyle,mathvariant
     no mstyle,mathvariant,bold
     no mstyle,scriptlevel
     no mtable,columnalign
     no mtable,columnalign,left
     no mtable,equalcolumns
     no mtable,equalcolumns,false
     no mtable,equalrows
     no mtable,equalrows,false
     no mtable,frame
     no mtable,frame,solid
     no mtable,width
     no munderover,accent
     no munderover,accent,true
     skip annotation,encoding,MathType-MTEF
     skip merror
     skip mphantom
     no mo,maxsize
     no mo,maxsize,3
     no mo,mathsize
     no mi,mathvariant
     no mo,mathvariant
     no munder,accentunder
     no mn,mathvariant
     no mtext,mathvariant
     no mi,mathvariant,italic
     no mn,mathvariant,normal
     no mo,mathvariant,normal
     no munder,accentunder,true
     no mtext,mathvariant,normal
     no math,display,inline
     no mi,mathvariant,normal
     no mi,mathvariant,fraktur
     no mi,mathvariant,bold-sans
     
     no mi,mathvariant,double-struck
     no mi,mathvariant,double-struck
     no mi,mathvariant,double-struck
     no menclose,notation
     no mtd,columnalign
     no menclose,notation,longdiv
     no mtd,columnalign,right
     no mfrac
     no mfrac
     no mfrac
     no mfrac
     no mfrac
     no mfrac
     no mstyle,scriptlevel,-1
</pre>
<p><a name="Files-for-BAUK-Maths-(ukmaths)"></a>
<a name="Files-for-BAUK-Maths-_0028ukmaths_0029"></a>

<h3 class="section">A.5 Files for BAUK Maths (ukmaths)</h3>

<p><a name="ukmaths.cfg"></a>
<a name="ukmaths_002ecfg"></a>

<h4 class="subsection">A.5.1 <samp><span class="file">ukmaths.cfg</span></samp></h4>

<pre class="example">     cellsperline 32
     braillePages no
     mathexprtable us-table.dis,ukmaths.ctb
     editTable ukmaths_edit.ctb
     internetAccess no
     semanticFiles *,ukmaths.sem
     
</pre>
<p><a name="ukmaths.sem"></a>
<a name="ukmaths_002esem"></a>

<h4 class="subsection">A.5.2 <samp><span class="file">ukmaths.sem</span></samp></h4>

<pre class="example">     # Licensed under LGPL
     
     maction maction
     maligngroup maligngroup
     malignmark malignmark
     math math \eb,\*\ee
     menclose menclose
     mfrac mfrac \x0003,@456-34,\x0004
     mfenced mfenced @126,@345
     mfenced mfenced,open,{ @246,@135
     mover mover ,@4-346,@12456
     munder munder ,@4-16,@12456
     mglyph mglyph
     mi mi
     mlabeledtr mlabeledtr
     mmultiscripts mmultiscripts
     mn mn
     mo mo
     mpadded mpadded
     reverse mroot @146
     mrow mrow \x0001,\*\x0002
     ms ms
     mspace mspace \x00a0
     msqrt msqrt @146
     mstyle mstyle
     msub msub ,@16,@12456
     msubsup msubsup ,@346,@12456
     msup msup ,@346,@12456
     matrix mtable
     mtd mtd \*\ec
     mtext mtext
     mtr mtr @123456,\*@123456\er
     munderover munderover ^",^%,^&lt;,^}
     semantics semantics
     skip annotation
     no annotation,encoding
     no maction,actiontype
     no maction,actiontype,highli
     no maction,actiontype,status
     no maction,actiontype,toggle
     no maction,dsi:background
     no malignmark,edge
     no malignmark,edge,right
     no math,display
     no math,display,block
     no math,mode
     no math,mode,inline
     no math,xmlns
     no mfenced,open
     no mfenced,separators
     no mn,color
     no mn,color,green
     no mo,stretchy
     no mo,stretchy,false
     no mo,stretchy,true
     no mover,accent
     no mover,accent,true
     no ms,lquote
     no ms,rquote
     no ms,rquote,'
     no mspace,height
     no mspace,width
     no mstyle,background
     no mstyle,background,lightb
     no mstyle,background,red
     no mstyle,color
     no mstyle,color,blue
     no mstyle,displaystyle
     no mstyle,displaystyle,true
     no mstyle,fontsize
     no mstyle,fontstyle
     no mstyle,fontstyle,italic
     no mstyle,fontstyle,normal
     no mstyle,fontweight
     no mstyle,fontweight,bold
     no mstyle,mathsize
     no mstyle,mathsize,normal
     no mstyle,mathvariant
     no mstyle,mathvariant,bold
     no mstyle,scriptlevel
     no mtable,columnalign
     no mtable,columnalign,left
     no mtable,equalcolumns
     no mtable,equalcolumns,false
     no mtable,equalrows
     no mtable,equalrows,false
     no mtable,frame
     no mtable,frame,solid
     no mtable,width
     no munderover,accent
     no munderover,accent,true
     skip annotation,encoding,MathType-MTEF
     skip merror
     skip mphantom
     no mo,maxsize
     no mo,maxsize,3
     no mo,mathsize
     no mi,mathvariant
     no mo,mathvariant
     no munder,accentunder
     no mn,mathvariant
     no mtext,mathvariant
     no mi,mathvariant,italic
     no mn,mathvariant,normal
     no mo,mathvariant,normal
     no munder,accentunder,true
     no mtext,mathvariant,normal
     no math,display,inline
     no mi,mathvariant,normal
     no mi,mathvariant,fraktur
     no mi,mathvariant,bold-sans
     no mi,mathvariant,double-struck
     no menclose,notation
     no mtd,columnalign
     no menclose,notation,longdiv
     no mtd,columnalign,right
     no mstyle,scriptlevel,-1
</pre>
<p><a name="ukmaths.ctb"></a>
<a name="ukmaths_002ectb"></a>

<h4 class="subsection">A.5.3 <samp><span class="file">ukmaths.ctb</span></samp></h4>

<pre class="example">     # liblouis: UK Maths Table for mathematics
     #
     # Based on the Linux screenreader BRLTTY, copyright (C) 1999-2006 by
     # The BRLTTY Team
     #
     # Copyright (C) 2004, 2005, 2006
     # ViewPlus Technologies, Inc. www.viewplus.com
     # and
     # JJB Software, Inc. www.jjb-software.com
     # All rights reserved
     #
     # This file is free software; you can redistribute it and/or modify it
     # under the terms of the Lesser or Library GNU General Public License
     # as published by the
     # Free Software Foundation; either version 3, or (at your option) any
     # later version.
     #
     # This file is distributed in the hope that it will be useful, but
     # WITHOUT ANY WARRANTY; without even the implied warranty of
     # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
     # Library GNU General Public License for more details.
     #
     # You should have received a copy of the Library GNU General Public
     # License along with this program; see the file COPYING. If not, write
     # to
     # the Free Software Foundation, 51 Franklin Street, Fifth Floor,
     # Boston, MA 02110-1301, USA.
     #
     # Maintained by John J. Boyer john.boyer@jjb-software.com
     # Updated 6-18-08 by Mike Sivill &lt;mike.sivill@viewplus.com&gt;
     
     include ukmaths_single_cell_defs.cti
     include ukmaths_unicode_defs.cti
     # grouping definitions are character-definition rules
     grouping mrow \x0001\x0002 1e,2e
     grouping mfrac \x0003\x0004 3e,4e
     grouping brackets \x0005\x0006 126,345
     
     # Braille indicators
     numsign 3456
     capsign 6
     begcaps 6-6
     endcaps 6-3
     singleletterital 4
     singleletterbold 4
     
     # litdigit opcodes must be in this table, not the single-cell table.
     litdigit 0 245
     litdigit 1 1
     litdigit 2 12
     litdigit 3 14
     litdigit 4 145
     litdigit 5 15
     litdigit 6 124
     litdigit 7 1245
     litdigit 8 125
     litdigit 9 24
     
     # No letsign but endnum for letters a-j.
     endnum a 56-1
     endnum b 56-12
     endnum c 56-14
     endnum d 56-145
     endnum e 56-15
     endnum f 56-124
     endnum g 56-1245
     endnum h 56-125
     endnum i 56-24
     endnum j 56-245
     
     # Ordinary translation entries
     always = a-56-2356
     always + a-56-235
     always &gt; a-135-a
     always &lt; a-246-a
     always % 25-1234
     always $ 256
     always &amp; 4-12346
     always ~ 45-156
     always ! 6-236
     prepunc " 236
     postpunc " 356
     postpunc ' 3
     always '' 36
     always ''' 36-3
     midnum , 3
     postpunc , 6-2
     always , 3
     always # 35-2345 print number sign before number
     always ( 126
     always ) 345
     pass2 [{mrow]@126/@345}mrow ?
     pass2 @126[{mrow]/}mrow@345 ?
     decpoint . 2
     always ... 3-3-3
     hyphen - 36
     postpunc . 6-256
     postpunc ; 6-23
     postpunc : 6-25
     postpunc ? 6-236
     endnum % 4-356
     midnum * 4-16
     repeated \s 0
     repeated \x00a0 a
     
     # swap opcodes for replacement and testing.
     swapcd dropped 0123456789 356,2,23,25,456,26,235,2356,236,35
     swapdd upnum 245,1,12,14,145,15,124,1245,125,24 0,0,0,0,0,0,0,0,0,0
     swapdd lownum 356,2,23,25,256,26,235,2356,236,35 0,0,0,0,0,0,0,0,0,0
     
     # now we start doing the real work
     
     # Correction rules
     correct {mrow$ld1-20[}mrow] ?
     correct "\eb"[{mrow]/}mrow"\ee" ?
     context "\eb"[]$l"\ee" @56
     context "\eb"[]","$l"\ee" @56
     context []"@456-34"$d1-10}mfrac #1=1
     # context []"@456-34"$d1-10}mfrac #1=1
     context []"@346"$d1-10"@12456" #1=1
     context []"@16"$d1-10"@12456" #1=1
     # context []"@146"$d1-10 #1=1
     context #1=1$d1-10 #1=0%dropped
     
     # exactdots opcodes for dot patterns in ukmaths.sem
     exactdots @126
     exactdots @345
     exactdots @123456
     exactdots @346
     exactdots @16
     exactdots @23456
     exactdots @34
     exactdots @456-34
     exactdots @12456
     exactdots @146
     
     # Function names and abbreviations
     word cos 1246-14
     word grad 1246-1245
     word cosh 1246-125-14
     word sinh 1246-125-234
     word tanh 1246-125-2345
     word cosech 1246-125-126
     word coth 1246-125-1256
     word sech 1246-125-36
     word log 1246-123
     word sin 1246-234
     word tan 1246-2345
     word cosec 1246-126
     word curl 1246-146
     word div 1246-1456
     word cot 1246-1256
     word arccosh 1246-236-14
     word arcsinh 1246-236-234
     word arctanh 1246-236-2345
     word arccosech 1246-236-126
     word arccoth 1246-236-1256
     word arcsech 1246-236-36
     word sec 1246-36
     word arccos 1246-4-14
     word antilog 1246-4-123
     word arcsin 1246-4-234
     word arctan 1246-4-2345
     word arccosec 1246-4-126
     word arccot 1246-4-1256
     word arcsec 1246-4-25
     word colog 1246-45-123
     
     # pass2 processing
     pass2 [@3456]%lownum1-10 ?
     pass2 [@456-34-3456]%lownum1-10 ?
     
     # pass3 processing
     pass3 @346%lownum1-10[@12456] ?
     pass3 @16[%lownum1-10]@12456 *
     pass3 {mfrac[@3456%upnum1-10%lownum1-10]}mfrac *
</pre>
<p><a name="ukmaths_edit.ctb"></a>
<a name="ukmaths_005fedit_002ectb"></a>

<h4 class="subsection">A.5.4 <samp><span class="file">ukmaths_edit.ctb</span></samp></h4>

<pre class="example">     # liblouis Table for Post-Translation Editing
     #
     # Based on the Linux screenreader BRLTTY, copyright (C) 1999-2006 by
     # The BRLTTY Team
     #
     # Copyright (C) 2004, 2005, 2006
     # ViewPlus Technologies, Inc. www.viewplus.com
     # and
     # JJB Software, Inc. www.jjb-software.com
     # All rights reserved
     #
     # This file is free software; you can redistribute it and/or modify it
     # under the terms of the Lesser or Library GNU General Public License
     # as published by the
     # Free Software Foundation; either version 3, or (at your option) any
     # later version.
     #
     # This file is distributed in the hope that it will be useful, but
     # WITHOUT ANY WARRANTY; without even the implied warranty of
     # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
     # Library GNU General Public License for more details.
     #
     # You should have received a copy of the Library GNU General Public
     # License along with this program; see the file COPYING. If not, write
     # to
     # the Free Software Foundation, 51 Franklin Street, Fifth Floor,
     # Boston, MA 02110-1301, USA.
     #
     # Maintained by John J. Boyer john.boyer@jjb-software.com
     # Updated 6-18-08 by Mike Sivill &lt;mike.sivill@viewplus.com&gt;
     include ukmaths_single_cell_defs.cti
     
     
     math \x0001 56
     math \x0002 45
     math \x0003 56
     math \x0004 45
     repeated \s 0
     always \ee\s`4 6-256
     always \ee\s`1 6
     always \ee\s`3 6-25
     always \ee\s`2 6-23
     always `7\s\eb 12356
     always \ee\s`7 23456
     always "\s 0
     always \s,\s 6-0
     # context "\eb"[]$l"\ee" @56
     # context "\eb"[]","$l"\ee" @56
     
     pass2 @1b-12 ?
     pass2 @1b-15 ?
     pass2 @1b-12-4-4 @4
</pre>
<p><a name="Configuration-Settings-Index"></a>

<h2 class="unnumbered">Configuration Settings Index</h2>

<ul class="index-tp" compact>
<li><a href="#index-backFormat-29"><code>backFormat</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-backLineLength-30"><code>backLineLength</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-beginningPageNumber-14"><code>beginningPageNumber</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-braillePageNumberAt-16"><code>braillePageNumberAt</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-braillePageNumberFormat-55"><code>braillePageNumberFormat</code></a>: <a href="#style">style</a></li>
<li><a href="#index-braillePages-12"><code>braillePages</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-cellsPerLine-5"><code>cellsPerLine</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-center-72"><code>center</code></a>: <a href="#style">style</a></li>
<li><a href="#index-compbrailleTable-35"><code>compbrailleTable</code></a>: <a href="#translation">translation</a></li>
<li><a href="#index-continuePages-17"><code>continuePages</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-editTable-38"><code>editTable</code></a>: <a href="#translation">translation</a></li>
<li><a href="#index-entity-42"><code>entity</code></a>: <a href="#xml">xml</a></li>
<li><a href="#index-fileEnd-10"><code>fileEnd</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-firstLineIndent-48"><code>firstLineIndent</code></a>: <a href="#style">style</a></li>
<li><a href="#index-format-51"><code>format</code></a>: <a href="#style">style</a></li>
<li><a href="#index-formatFor-28"><code>formatFor</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-hyphenate-25"><code>hyphenate</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-ignoreEmptyPages-20"><code>ignoreEmptyPages</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-inputTextEncoding-27"><code>inputTextEncoding</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-interline-31"><code>interline</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-interlineBackTable-39"><code>interlineBackTable</code></a>: <a href="#translation">translation</a></li>
<li><a href="#index-internetAccess-43"><code>internetAccess</code></a>: <a href="#xml">xml</a></li>
<li><a href="#index-interpoint-7"><code>interpoint</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-leftMargin-47"><code>leftMargin</code></a>: <a href="#style">style</a></li>
<li><a href="#index-lineEnd-8"><code>lineEnd</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-lineFill-32"><code>lineFill</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-linesAfter-46"><code>linesAfter</code></a>: <a href="#style">style</a></li>
<li><a href="#index-linesBefore-45"><code>linesBefore</code></a>: <a href="#style">style</a></li>
<li><a href="#index-linesPerPage-6"><code>linesPerPage</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-literaryTextTable-33"><code>literaryTextTable</code></a>: <a href="#translation">translation</a></li>
<li><a href="#index-MathexpTable-37"><code>MathexpTable</code></a>: <a href="#translation">translation</a></li>
<li><a href="#index-mathtextTable-36"><code>mathtextTable</code></a>: <a href="#translation">translation</a></li>
<li><a href="#index-mergeUnnumberedPages-22"><code>mergeUnnumberedPages</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-newEntries-44"><code>newEntries</code></a>: <a href="#xml">xml</a></li>
<li><a href="#index-newPageAfter-53"><code>newPageAfter</code></a>: <a href="#style">style</a></li>
<li><a href="#index-newPageBefore-52"><code>newPageBefore</code></a>: <a href="#style">style</a></li>
<li><a href="#index-outputEncoding-26"><code>outputEncoding</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-pageEnd-9"><code>pageEnd</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-pageNumberBottomSeparateLine-24"><code>pageNumberBottomSeparateLine</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-pageNumberTopSeparateLine-23"><code>pageNumberTopSeparateLine</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-pageSeparator-18"><code>pageSeparator</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-pageSeparatorNumber-19"><code>pageSeparatorNumber</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-paragraphs-13"><code>paragraphs</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-printPageNumberAt-15"><code>printPageNumberAt</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-printPageNumberRange-21"><code>printPageNumberRange</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-printPages-11"><code>printPages</code></a>: <a href="#outputFormat">outputFormat</a></li>
<li><a href="#index-rightHandPage-54"><code>rightHandPage</code></a>: <a href="#style">style</a></li>
<li><a href="#index-semanticFiles-40"><code>semanticFiles</code></a>: <a href="#xml">xml</a></li>
<li><a href="#index-skipNumberLines-50"><code>skipNumberLines</code></a>: <a href="#style">style</a></li>
<li><a href="#index-translate-49"><code>translate</code></a>: <a href="#style">style</a></li>
<li><a href="#index-uncontractedTable-34"><code>uncontractedTable</code></a>: <a href="#translation">translation</a></li>
<li><a href="#index-xmlheader-41"><code>xmlheader</code></a>: <a href="#xml">xml</a></li>
   </ul><p><a name="Semantic-Action-Index"></a>

<h2 class="unnumbered">Semantic Action Index</h2>



<ul class="index-semantic" compact>
<li><a href="#index-blankline-90">blankline</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-boldx-91">boldx</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-boxline-92">boxline</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-changetable-94">changetable</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-chemistry-93">chemistry</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-compbrl-95">compbrl</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-configfile-96">configfile</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-configstring-97">configstring</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-configtweak-98">configtweak</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-contenss1-79">contenss1</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-contenss2-80">contenss2</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-contenss3-81">contenss3</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-contenss4-82">contenss4</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-contentsheader-83">contentsheader</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-contracted-99">contracted</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-document-84">document</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-footer-100">footer</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-generic-101">generic</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-graphic-102">graphic</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-heading1-85">heading1</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-heading2-86">heading2</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-heading3-87">heading3</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-heading4-88">heading4</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-htmllink-103">htmllink</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-htmltarget-104">htmltarget</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-italicx-105">italicx</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-linespacing-106">linespacing</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-maction-107">maction</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-maligngroup-108">maligngroup</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-malignmark-109">malignmark</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-math-110">math</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-menclose-111">menclose</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-merror-112">merror</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mfenced-113">mfenced</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mfrac-114">mfrac</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mglyph-115">mglyph</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mi-116">mi</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mlabeledtr-117">mlabeledtr</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mmultiscripts-118">mmultiscripts</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mn-119">mn</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mo-120">mo</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mover-121">mover</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mpadded-122">mpadded</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mphantom-123">mphantom</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mprescripts-124">mprescripts</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mroot-125">mroot</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mrow-126">mrow</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-ms-127">ms</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mspace-128">mspace</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-msqrt-129">msqrt</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mstyle-130">mstyle</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-msub-131">msub</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-msubsup-132">msubsup</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-msup-133">msup</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mtable-134">mtable</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mtd-135">mtd</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mtext-136">mtext</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-mtr-137">mtr</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-munder-138">munder</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-munderover-139">munderover</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-music-140">music</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-newpage-141">newpage</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-no-142">no</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-none-143">none</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-notranslate-144">notranslate</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-pagenum-145">pagenum</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-para-89">para</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-reverse-146">reverse</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-righthandpage-147">righthandpage</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-runninghead-148">runninghead</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-semantics-149">semantics</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-skip-150">skip</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-softreturn-151">softreturn</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
<li><a href="#index-uncontracted-152">uncontracted</a>: <a href="#Semantic-Actions-in-detail">Semantic Actions in detail</a></li>
   </ul><p><a name="Function-Index"></a>

<h2 class="unnumbered">Function Index</h2>



<ul class="index-fn" compact>
<li><a href="#index-lbx_005fbackTranslateFile-158"><code>lbx_backTranslateFile</code></a>: <a href="#lbx_005fbackTranslateFile">lbx_backTranslateFile</a></li>
<li><a href="#index-lbx_005ffree-159"><code>lbx_free</code></a>: <a href="#lbx_005ffree">lbx_free</a></li>
<li><a href="#index-lbx_005finitialize-154"><code>lbx_initialize</code></a>: <a href="#lbx_005finitialize">lbx_initialize</a></li>
<li><a href="#index-lbx_005ftranslateFile-156"><code>lbx_translateFile</code></a>: <a href="#lbx_005ftranslateFile">lbx_translateFile</a></li>
<li><a href="#index-lbx_005ftranslateString-155"><code>lbx_translateString</code></a>: <a href="#lbx_005ftranslateString">lbx_translateString</a></li>
<li><a href="#index-lbx_005ftranslateTextFile-157"><code>lbx_translateTextFile</code></a>: <a href="#lbx_005ftranslateTextFile">lbx_translateTextFile</a></li>
<li><a href="#index-lbx_005fversion-153"><code>lbx_version</code></a>: <a href="#lbx_005fversion">lbx_version</a></li>
   </ul><p><a name="Program-Index"></a>

<h2 class="unnumbered">Program Index</h2>



<ul class="index-pg" compact>
<li><a href="#index-msword2brl-2"><code>msword2brl</code></a>: <a href="#Transcribing-Microsoft-Word-files-with-msword2brl">Transcribing Microsoft Word files with msword2brl</a></li>
<li><a href="#index-pdf2brl-4"><code>pdf2brl</code></a>: <a href="#Transcribing-PDF-files-with-pdf2brl">Transcribing PDF files with pdf2brl</a></li>
<li><a href="#index-rtf2brl-3"><code>rtf2brl</code></a>: <a href="#Transcribing-RTF-files-with-rtf2brl">Transcribing RTF files with rtf2brl</a></li>
<li><a href="#index-xml2brl-1"><code>xml2brl</code></a>: <a href="#Transcribing-XML-files-with-xml2brl">Transcribing XML files with xml2brl</a></li>
   </ul></body></html>

