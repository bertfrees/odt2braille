 *********************************************************
   xml2brl Build Instructions Windows (Code::Blocks)
 *********************************************************

* In [Settings > Compiler and Debugger], check that:
** Compiler = mingw32-gcc.exe
** Search directories = C:\msys\1.0\mingw\include (your mingw installation directory)

*********
 STEP 1
*********
 
* Download and extract liblouis-2.1.1 (or a later version)
* Copy all .c and .h files in 'liblouis' to '$liblouis_src_folder\liblouis'
* Generate config.h (with ./configure on a Unix machine) and copy this file to '$liblouis_src_folder\liblouis'

* Download and extract liblouisxml-2.1.0 (or a later version)
* Copy all .c en .h files in 'liblouisxml' (except for make_sem_names.c) to '$liblouis_src_folder\liblouisxml'
* Copy all .c en .h files in 'gnulib' (except for getopt.c and getopt1.c) to '$liblouis_src_folder\liblouisxml\gnulib'
* Generate 'config.h' (with ./configure on a Unix machine) and copy this file to '$liblouis_src_folder\liblouisxml'
* Copy 'tools\xml2brl.c' to '$liblouis_src_folder'
* In 'xml2brl.c', change '#include "config.h"' to '#include "liblouisxml/config.h"'

* Download and extract liblouisxml-2.0.0-win32.zip
* Copy all .h files in 'include\libxml2\libxml' to '$liblouis_src_folder\libxml2\libxml'
* Copy 'lib\libxml2.dll.a' to '$liblouis_src_folder\libxml2'
* Copy 'libxml2-2.dll' and 'zlib1.dll' in 'bin' to '$liblouis_bin_folder'

 (all files are also available on SVN: https://odt2braille.svn.sourceforge.net/svnroot/odt2braille/Odt2BrailleAddOn/liblouis/)

********
 STEP 2
********

* Create a new dynamic linked library project: 'liblouis'
* Delete main.cpp and main.h
* Add all files in '$liblouis_src_folder\liblouis' (recursively)
* In [Build Options > liblouis], add:
** Search directories (Compiler): '$liblouis_src_folder\liblouis'
* Build
* Copy '$liblouis_project_folder\bin\Release\liblouis.dll' to '$liblouis_bin_folder'
* Copy '$liblouis_project_folder\bin\Release\liblouis.a' to '$liblouis_src_folder\liblouis'

********
 STEP 3
********

* Create a new dynamic linked library project: 'liblouisxml'
* Delete main.cpp and main.h
* Add all files in '$liblouis_src_folder\liblouisxml' (recursively)
* In [Build Options > liblouisxml], add:
** Linker settings: '$liblouis_src_folder\libxml2\libxml2.dll.a; $liblouis_src_folder\liblouis\liblouis.a'
** Search directories (Compiler): '$liblouis_src_folder\liblouis; $liblouis_src_folder\liblouisxml; $liblouis_src_folder\liblouisxml\gnulib; $liblouis_src_folder\libxml2; $liblouis_src_folder\libxml2\libxml'
* Build
* Copy '$liblouisxml_project_folder\bin\Release\liblouisxml.dll' to '$liblouis_bin_folder'
* Copy '$liblouisxml_project_folder\bin\Release\liblouisxml.a' to '$liblouis_src_folder\liblouisxml'

********
 STEP 4
********

* Create a new application project: 'xml2brl'
* Delete main.cpp and main.h
* Add '$liblouis_src_folder\xml2brl.c'
* In [Build Options > xml2brl], add:
** Linker settings: '$liblouis_src_folder\libxml2\libxml2.dll.a; $liblouis_src_folder\liblouis\liblouis.a; $liblouis_src_folder\liblouisxml\liblouisxml.a;'
** Search directories (Compiler): '$liblouis_src_folder\liblouis; $liblouis_src_folder\liblouisxml; $liblouis_src_folder\liblouisxml\gnulib; $liblouis_src_folder\libxml2; $liblouis_src_folder\libxml2\libxml'
* Build
* Copy '$xml2brl_project_folder\bin\Release\xml2brl.exe' to '$liblouis_bin_folder'

